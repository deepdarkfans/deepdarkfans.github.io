<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Blog, Linux">





  <link rel="alternate" href="/atom.xml" title="Cyh Blog" type="application/atom+xml">






<meta name="description" content="å…´è¶£ä½¿ç„¶çš„æ— åå°ç«™">
<meta name="keywords" content="blog,machine learning,linux">
<meta property="og:type" content="website">
<meta property="og:title" content="Cyh Blog">
<meta property="og:url" content="https://www.deepdark.com/page/2/index.html">
<meta property="og:site_name" content="Cyh Blog">
<meta property="og:description" content="å…´è¶£ä½¿ç„¶çš„æ— åå°ç«™">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cyh Blog">
<meta name="twitter:description" content="å…´è¶£ä½¿ç„¶çš„æ— åå°ç«™">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://www.deepdark.com/page/2/">





  <title>Cyh Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-138612004-1', 'auto');
  ga('send', 'pageview');
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Cyh Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">My Blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="æœç´¢..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/æ—¥å¸¸/2019-04-16-ç¬¬ä¸€ç¯‡åšå®¢/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æ—¥å¸¸/2019-04-16-ç¬¬ä¸€ç¯‡åšå®¢/" itemprop="url">è‡ªå·±çš„ç¬¬ä¸€ç¯‡åšå®¢</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-04-16T00:00:00+08:00">
                2019-04-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ—¥å¸¸/" itemprop="url" rel="index">
                    <span itemprop="name">æ—¥å¸¸</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/æ—¥å¸¸/2019-04-16-ç¬¬ä¸€ç¯‡åšå®¢/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="æ—¥å¸¸/2019-04-16-ç¬¬ä¸€ç¯‡åšå®¢/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  48
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å…ˆtestä¸€å“ˆ"><a href="#å…ˆtestä¸€å“ˆ" class="headerlink" title="å…ˆtestä¸€å“ˆ"></a><strong>å…ˆtestä¸€å“ˆ</strong></h3><p>é©¬ä¸Šæ¯•ä¸šï¼Œå…ˆæä¸ªä»£ç å—<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;hello world&quot;)</span><br></pre></td></tr></table></figure></p>
<p><code>å†æä¸ªä»£ç è¡Œ</code><br>å®Œäº‹äº†ï¼Œå‰©ä¸‹ç­‰æœ‰æ—¶é—´å†å†™<br>ä¸»è¦ææœºå™¨å­¦ä¹ å’Œç½‘ç»œå®‰å…¨</p>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/æŠ€æœ¯/2017-12-26-ä»ä¸€é“ç½‘æ˜“é¢è¯•é¢˜æµ…è°ˆ-Tagged-Pointer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æŠ€æœ¯/2017-12-26-ä»ä¸€é“ç½‘æ˜“é¢è¯•é¢˜æµ…è°ˆ-Tagged-Pointer/" itemprop="url">ä»ä¸€é“ç½‘æ˜“é¢è¯•é¢˜æµ…è°ˆ Tagged Pointer</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-26T00:00:00+08:00">
                2017-12-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æŠ€æœ¯/" itemprop="url" rel="index">
                    <span itemprop="name">æŠ€æœ¯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/æŠ€æœ¯/2017-12-26-ä»ä¸€é“ç½‘æ˜“é¢è¯•é¢˜æµ…è°ˆ-Tagged-Pointer/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="æŠ€æœ¯/2017-12-26-ä»ä¸€é“ç½‘æ˜“é¢è¯•é¢˜æµ…è°ˆ-Tagged-Pointer/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  578
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™ç¯‡åšå®¢ä¹æœˆå°±æƒ³å†™äº†ï¼Œå› ä¸ºèµ¶é¡¹ç›®æ‹–äº†åˆ°ç°åœ¨ï¼ŒæŠ“ä½17å¹´å°¾å·´å†™å§~</p>
<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ä¸Šæ¬¡çœ‹äº†ä¸€ç¯‡ <a href="https://www.jianshu.com/p/cec2a41aa0e7" target="_blank" rel="noopener">ã€Šä»ä¸€é“ç½‘æ˜“é¢è¯•é¢˜æµ…è°ˆOCçº¿ç¨‹å®‰å…¨ã€‹</a> çš„åšå®¢ï¼Œä¸»è¦å†…å®¹æ˜¯ï¼š</p>
<p>ä½œè€…å»ç½‘æ˜“é¢è¯•ï¼Œé¢è¯•å®˜å‡ºäº†ä¸€é“é¢è¯•é¢˜ï¼šä¸‹é¢ä»£ç ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *target;</span><br><span class="line"><span class="comment">//....</span></span><br><span class="line"><span class="built_in">dispatch_queue_t</span> queue = dispatch_queue_create(<span class="string">"parallel"</span>, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000000</span> ; i++) &#123;</span><br><span class="line">    <span class="built_in">dispatch_async</span>(queue, ^&#123;</span><br><span class="line">        <span class="keyword">self</span>.target = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"ksddkjalkjd%d"</span>,i];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç­”æ¡ˆæ˜¯ï¼šä¼š crashã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹å¯¹<code>target</code>å±æ€§ï¼ˆ<code>strong</code>ä¿®é¥°ï¼‰è¿›è¡Œèµ‹å€¼ï¼Œç›¸å½“ä¸ MRC ä¸­çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (void)setTarget:(NSString *)target &#123;</span><br><span class="line">    if (target == _target) return;</span><br><span class="line">    id pre = _target;</span><br><span class="line">    [target retain];//1.å…ˆä¿ç•™æ–°å€¼</span><br><span class="line">    _target = target;//2.å†è¿›è¡Œèµ‹å€¼</span><br><span class="line">    [pre release];//3.é‡Šæ”¾æ—§å€¼</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºåœ¨ <em>å¹¶è¡Œé˜Ÿåˆ—</em> <code>DISPATCH_QUEUE_CONCURRENT</code> ä¸­<em>å¼‚æ­¥</em> <code>dispatch_async</code> å¯¹ <code>target</code>å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œå°±ä¼šå¯¼è‡´ target å·²ç»è¢« <code>release</code>äº†ï¼Œè¿˜ä¼šæ‰§è¡Œ <code>release</code>ã€‚è¿™å°±æ˜¯å‘å·²é‡Šæ”¾å†…å­˜å¯¹è±¡å‘é€æ¶ˆæ¯è€Œå‘ç”Ÿ crash ã€‚</p>
<h3 id="ä½†æ˜¯"><a href="#ä½†æ˜¯" class="headerlink" title="ä½†æ˜¯"></a>ä½†æ˜¯</h3><p>æˆ‘æ•²äº†è¿™æ®µä»£ç ï¼Œæ‰§è¡Œçš„æ—¶å€™å‘ç°å¹¶ä¸ä¼š crash~</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *target;</span><br><span class="line"><span class="built_in">dispatch_queue_t</span> queue = dispatch_queue_create(<span class="string">"parallel"</span>, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000000</span> ; i++) &#123;</span><br><span class="line">    <span class="built_in">dispatch_async</span>(queue, ^&#123;</span><br><span class="line">    	<span class="comment">// â€˜ksddkjalkjdâ€™åˆ é™¤äº†</span></span><br><span class="line">        <span class="keyword">self</span>.target = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%d"</span>,i];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŸå› å°±å‡ºåœ¨å¯¹ <code>self.target</code> èµ‹å€¼çš„å­—ç¬¦ä¸²ä¸Šã€‚åšå®¢çš„æœ€åä¹Ÿæåˆ°äº† - <em>â€˜ä¸Šè¿°ä»£ç çš„å­—ç¬¦ä¸²æ”¹çŸ­ä¸€äº›ï¼Œå°±ä¸ä¼šå´©æºƒâ€™</em>ï¼Œè¿˜æœ‰ <code>Tagged Pointer</code> è¿™ä¸ªä¸œè¥¿ã€‚</p>
<p>æˆ‘ä»¬å°†ä¸Šé¢çš„ä»£ç ä¿®æ”¹ä¸‹ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *str = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%d"</span>, i];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%d, %s, %p"</span>, i, object_getClassName(str), str);</span><br><span class="line"><span class="keyword">self</span>.target = str;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0, NSTaggedPointerString, 0x3015</span><br></pre></td></tr></table></figure>
<p>å‘ç°è¿™ä¸ªå­—ç¬¦ä¸²ç±»å‹æ˜¯ <code>NSTaggedPointerString</code>ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹ Tagged Pointer æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<h3 id="Tagged-Pointer"><a href="#Tagged-Pointer" class="headerlink" title="Tagged Pointer"></a>Tagged Pointer</h3><p>Tagged Pointer è¯¦ç»†çš„å†…å®¹å¯ä»¥çœ‹è¿™é‡Œ <a href="http://www.infoq.com/cn/articles/deep-understanding-of-tagged-pointer" target="_blank" rel="noopener">æ·±å…¥ç†è§£Tagged Pointer</a>ã€‚</p>
<p>Tagged Pointer æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæå‡æ€§èƒ½ã€èŠ‚çœå†…å­˜çš„æœ‰è¶£çš„æŠ€æœ¯ã€‚</p>
<ul>
<li>Tagged Pointer ä¸“é—¨ç”¨æ¥å­˜å‚¨å°çš„å¯¹è±¡ï¼Œä¾‹å¦‚ <strong>NSNumber</strong> å’Œ <strong>NSDate</strong>ï¼ˆåæ¥å¯ä»¥å­˜å‚¨å°å­—ç¬¦ä¸²ï¼‰</li>
<li>Tagged Pointer æŒ‡é’ˆçš„å€¼ä¸å†æ˜¯åœ°å€äº†ï¼Œè€Œæ˜¯çœŸæ­£çš„å€¼ã€‚æ‰€ä»¥ï¼Œå®é™…ä¸Šå®ƒä¸å†æ˜¯ä¸€ä¸ªå¯¹è±¡äº†ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæŠ«ç€å¯¹è±¡çš®çš„æ™®é€šå˜é‡è€Œå·²ã€‚</li>
<li>å®ƒçš„å†…å­˜å¹¶ä¸å­˜å‚¨åœ¨å †ä¸­ï¼Œä¹Ÿä¸éœ€è¦ malloc å’Œ freeï¼Œæ‰€ä»¥æ‹¥æœ‰æå¿«çš„è¯»å–å’Œåˆ›å»ºé€Ÿåº¦ã€‚</li>
</ul>
<h3 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h3><ul>
<li><p><a href="https://www.jianshu.com/p/cec2a41aa0e7" target="_blank" rel="noopener">ä»ä¸€é“ç½‘æ˜“é¢è¯•é¢˜æµ…è°ˆOCçº¿ç¨‹å®‰å…¨</a></p>
</li>
<li><p><a href="http://www.infoq.com/cn/articles/deep-understanding-of-tagged-pointer" target="_blank" rel="noopener">æ·±å…¥ç†è§£Tagged Pointer</a></p>
</li>
<li><p><a href="http://www.cocoachina.com/ios/20150918/13449.html" target="_blank" rel="noopener">ã€è¯‘ã€‘é‡‡ç”¨Tagged Pointerçš„å­—ç¬¦ä¸²</a></p>
</li>
</ul>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/æŠ€æœ¯/2017-12-19-ä¸ºåšå®¢æ·»åŠ -Gitalk-è¯„è®ºæ’ä»¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æŠ€æœ¯/2017-12-19-ä¸ºåšå®¢æ·»åŠ -Gitalk-è¯„è®ºæ’ä»¶/" itemprop="url">ä¸ºåšå®¢æ·»åŠ  Gitalk è¯„è®ºæ’ä»¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-19T00:00:00+08:00">
                2017-12-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æŠ€æœ¯/" itemprop="url" rel="index">
                    <span itemprop="name">æŠ€æœ¯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/æŠ€æœ¯/2017-12-19-ä¸ºåšå®¢æ·»åŠ -Gitalk-è¯„è®ºæ’ä»¶/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="æŠ€æœ¯/2017-12-19-ä¸ºåšå®¢æ·»åŠ -Gitalk-è¯„è®ºæ’ä»¶/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  842
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç”±äº <strong>Disqus</strong> å¯¹äºå›½å†…ç½‘è·¯çš„æ”¯æŒååˆ†ç³Ÿç³•ï¼Œå¾ˆå¤šäººåæ˜  Disqus è¯„è®ºæ’ä»¶ä¸€ç›´åŠ è½½ä¸å‡ºæ¥ã€‚è€Œæˆ‘ä¸€ç›´æ˜¯å¤„äºç¿»å¢™çŠ¶æ€çš„~ï¼ˆè¯è¯´ä½ ä»¬åšç¨‹åºå‘˜çš„éƒ½ä¸ç¿»å¢™ç”¨Googleçš„å—ğŸ˜…ï¼Œå“ˆå“ˆï¼Œåå˜ˆä¸‹ï¼‰</p>
<p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ·»åŠ äº†<a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">Gitalk</a> è¯„è®ºæ’ä»¶ã€‚åœ¨æ­¤ï¼Œéå¸¸æ„Ÿè°¢ <a href="https://github.com/FeDemo" target="_blank" rel="noopener">@FeDemo</a> çš„æ¨è ã€‚</p>
<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><h3 id="Gitalk-è¯„è®ºæ’ä»¶"><a href="#Gitalk-è¯„è®ºæ’ä»¶" class="headerlink" title="Gitalk è¯„è®ºæ’ä»¶"></a>Gitalk è¯„è®ºæ’ä»¶</h3><p>é¦–å…ˆæ¥çœ‹çœ‹ Gitalk çš„ç•Œé¢å’ŒåŠŸèƒ½ï¼š</p>
<p><a href="https://gitalk.github.io/" target="_blank" rel="noopener"><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fmm4u3j0lmj30nk0kl40i.jpg" alt></a></p>
<p>gitalk ä½¿ç”¨ Github å¸å·ç™»å½•ï¼Œç•Œé¢å¹²å‡€æ•´æ´ï¼Œæœ€å–œæ¬¢çš„ä¸€ç‚¹æ˜¯æ”¯æŒ <code>MarkDownè¯­æ³•</code>ã€‚</p>
<h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>Gitalk æ˜¯ä¸€ä¸ªåˆ©ç”¨ Github API,åŸºäº Github issue å’Œ Preact å¼€å‘çš„è¯„è®ºæ’ä»¶ï¼Œåœ¨ Gitalk ä¹‹å‰è¿˜æœ‰ä¸€ä¸ª <a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">gitment</a> æ’ä»¶ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªåŸç†å¼€å‘çš„,ä¸è¿‡ gitment å·²ç»å¾ˆä¹…æ²¡äººç»´æŠ¤äº†ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°åœ¨ gitalk çš„è¯„è®ºæ¡†è¿›è¡Œè¯„è®ºæ—¶ï¼Œå…¶å®å°±æ˜¯åœ¨å¯¹åº”çš„ issue ä¸Šæé—®é¢˜ã€‚</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fmm5916av1j30i209rab7.jpg" alt="gitalkè¯„è®ºæ¡†"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fmm596ggkfj30mx0gfjuk.jpg" alt="Github issue"></p>
<h3 id="é›†æˆ-Gitalk"><a href="#é›†æˆ-Gitalk" class="headerlink" title="é›†æˆ Gitalk"></a>é›†æˆ Gitalk</h3><p>åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å¯¹ Gitalk æœ‰ä¸ªå¤§è‡´çš„äº†è§£äº†ï¼Œç°åœ¨ï¼Œå¼€å§‹é›†æˆ gitalk æ’ä»¶å§ã€‚</p>
<p>å°†è¿™æ®µä»£ç æ’å…¥åˆ°ä½ çš„ç½‘ç«™ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Gitalk è¯„è®º start  --&gt;</span><br><span class="line">&#123;% <span class="keyword">if</span> site.gitalk.enable %&#125;</span><br><span class="line">&lt;!-- Link Gitalk çš„æ”¯æŒæ–‡ä»¶  --&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://unpkg.com/gitalk/dist/gitalk.css"</span>&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://unpkg.com/gitalk@latest/dist/gitalk.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=<span class="string">"gitalk-container"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> gitalk = <span class="keyword">new</span> Gitalk(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// gitalkçš„ä¸»è¦å‚æ•°</span></span><br><span class="line">		clientID: <span class="string">`Github Application clientID`</span>,</span><br><span class="line">		clientSecret: <span class="string">`Github Application clientSecret`</span>,</span><br><span class="line">		repo: <span class="string">`å­˜å‚¨ä½ è¯„è®º issue çš„ Github ä»“åº“å`</span>,</span><br><span class="line">		owner: <span class="string">'Github ç”¨æˆ·å'</span>,</span><br><span class="line">		admin: [<span class="string">'Github ç”¨æˆ·å'</span>],</span><br><span class="line">		id: <span class="string">'é¡µé¢çš„å”¯ä¸€æ ‡è¯†ï¼Œgitalkä¼šæ ¹æ®è¿™ä¸ªæ ‡è¯†è‡ªåŠ¨åˆ›å»ºçš„issueçš„æ ‡ç­¾'</span>,</span><br><span class="line">    </span><br><span class="line">    &#125;);</span><br><span class="line">    gitalk.render(<span class="string">'gitalk-container'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&#123;% endif %&#125;</span></span><br><span class="line"><span class="regexp">&lt;!-- Gitalk end --&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬éœ€è¦å…³å¿ƒçš„å°±æ˜¯é…ç½®ä¸‹é¢å‡ ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">clientID: <span class="string">`Github Application clientID`</span>,</span><br><span class="line">clientSecret: <span class="string">`Github Application clientSecret`</span>,</span><br><span class="line">repo: <span class="string">`Github ä»“åº“å`</span>,<span class="comment">//å­˜å‚¨ä½ è¯„è®º issue çš„ Github ä»“åº“åï¼ˆå»ºè®®ç›´æ¥ç”¨ GitHub Page çš„ä»“åº“åï¼‰</span></span><br><span class="line">owner: <span class="string">'Github ç”¨æˆ·å'</span>,</span><br><span class="line">admin: [<span class="string">'Github ç”¨æˆ·å'</span>], <span class="comment">//è¿™ä¸ªä»“åº“çš„ç®¡ç†å‘˜ï¼Œå¯ä»¥æœ‰å¤šä¸ªï¼Œç”¨æ•°ç»„è¡¨ç¤ºï¼Œä¸€èˆ¬å†™è‡ªå·±,</span></span><br><span class="line">id: <span class="string">'window.location.pathname'</span>, <span class="comment">//é¡µé¢çš„å”¯ä¸€æ ‡è¯†ï¼Œgitalk ä¼šæ ¹æ®è¿™ä¸ªæ ‡è¯†è‡ªåŠ¨åˆ›å»ºçš„issueçš„æ ‡ç­¾,æˆ‘ä»¬ä½¿ç”¨é¡µé¢çš„ç›¸å¯¹è·¯å¾„ä½œä¸ºæ ‡è¯†</span></span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–å¾ˆå¤šå‚æ•°ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥ <a href="https://github.com/gitalk/gitalk#options" target="_blank" rel="noopener"> ç‚¹è¿™é‡Œ</a>ã€‚</p>
<p>æ¯”å¦‚æˆ‘å°±å¢åŠ äº†è¿™ä¸ªå…¨å±é®ç½©çš„å‚æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">distractionFreeMode: true,</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»º-Github-Application"><a href="#åˆ›å»º-Github-Application" class="headerlink" title="åˆ›å»º Github Application"></a>åˆ›å»º Github Application</h3><p>Gitalk éœ€è¦ä¸€ä¸ª <strong>Github Application</strong>ï¼Œ<a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œç”³è¯·</a>ã€‚</p>
<p>å¡«å†™ä¸‹é¢å‚æ•°ï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fmm7jaib6fj30jo0gaacs.jpg" alt></p>
<p>ç‚¹å‡»åˆ›å»º</p>
<p>è·å– <code>Client ID</code> å’Œ <code>Client Secret</code> å¡«å…¥ä½ çš„æˆ‘ä»¬ Gitalk å‚æ•°ä¸­</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fmm7jrzff6j30lc0budhp.jpg" alt></p>
<p>å½“ä½ å‚æ•°éƒ½è®¾ç½®å¥½ï¼Œå°†ä»£ç æ¨é€åˆ° Github ä»“åº“åï¼Œæ²¡ä»€ä¹ˆé—®é¢˜çš„è¯ï¼Œå½“ä½ ç‚¹å‡»è¿›å…¥ä½ çš„åšå®¢é¡µé¢åå°±ä¼šå‡ºç°è¯„è®ºæ¡†äº†ã€‚</p>
<p>å½“ä½ ç”¨ github å¸å·ç™»å½•ï¼ˆç®¡ç†å‘˜ï¼‰ï¼Œå¹¶ä¸”ç¬¬ä¸€æ¬¡åŠ è½½è¯¥ä¼šæ¯”è¾ƒæ…¢ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡åŠ è½½ä¼šè‡ªåŠ¨åœ¨ä½  <code>repo</code> çš„ä»“åº“ä¸‹åˆ›å»ºå¯¹åº” issueã€‚</p>
<p>æ¯”å¦‚è¯´è¿™æ ·ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fmm867n88cj30l809mjse.jpg" alt></p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fmm8a0i0jkj30rr0ct42t.jpg" alt></p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºissueä½œä¸º gitalkè¯„è®ºå®¹å™¨ã€‚åªè¦æœ‰ <code>Gitalk</code> æ ‡ç­¾ å’Œ <code>id</code> å¯¹åº”æ ‡ç­¾å°±å¯ä»¥ã€‚æ¯”æˆ‘æˆ‘è‡ªå·±åˆ›å»ºçš„ <a href="https://github.com/qiubaiying/qiubaiying.github.io/issues/38" target="_blank" rel="noopener">About issue</a> ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æœ€åè¯´å‡ å¥åå˜ˆå‡ å¥ï¼Œ Gitalk éœ€è¦ä½ ç‚¹å¼€æ¯ç¯‡æ–‡ç« çš„é¡µé¢æ‰ä¼šåˆ›å»ºå¯¹åº”çš„ issue,å¯¹æˆ‘æ¥è¯´çœŸæ˜¯ä¸ªç³Ÿç³•çš„ä½“éªŒï¼ˆæ–‡ç« æœ‰ç‚¹å¤š~ï¼‰ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿæœ‰è§£å†³åŠæ³•ï¼Œè¿™ç¯‡ <a href="https://draveness.me/git-comments-initialize" target="_blank" rel="noopener">è‡ªåŠ¨åˆå§‹åŒ– Gitalk å’Œ Gitment è¯„è®º</a>ï¼Œå°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>æœ€åï¼Œ<a href="https://github.com/qiubaiying/qiubaiying.github.io" target="_blank" rel="noopener">ç»™ä¸ª star å§</a>~</p>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/ç¼–ç¨‹/2017-10-04-GCD-åœ¨-Swift-ä¸­çš„ç”¨æ³•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ç¼–ç¨‹/2017-10-04-GCD-åœ¨-Swift-ä¸­çš„ç”¨æ³•/" itemprop="url">GCD åœ¨ Swift ä¸­çš„ç”¨æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-04T00:00:00+08:00">
                2017-10-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç¼–ç¨‹/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/ç¼–ç¨‹/2017-10-04-GCD-åœ¨-Swift-ä¸­çš„ç”¨æ³•/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="ç¼–ç¨‹/2017-10-04-GCD-åœ¨-Swift-ä¸­çš„ç”¨æ³•/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  321
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="DispatchQueue"><a href="#DispatchQueue" class="headerlink" title="DispatchQueue"></a>DispatchQueue</h2><p>Swift ä¸­ï¼Œå¯¹ GCD è¯­æ³•è¿›è¡Œäº†å½»åº•æ”¹å†™ã€‚å¼•å…¥äº† <code>DispatchQueue</code> è¿™ä¸ªç±»ã€‚</p>
<p>å…ˆæ¥çœ‹çœ‹åœ¨ä¸€ä¸ªå¼‚æ­¥é˜Ÿåˆ—ä¸­è¯»å–æ•°æ®ï¼Œ ç„¶åå†è¿”å›ä¸»çº¿ç¨‹æ›´æ–° UIï¼Œ è¿™ç§æ“ä½œåœ¨æ–°çš„ Swift è¯­æ³•ä¸­æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.global().async &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// æ›´æ–°UIæ“ä½œ</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>DispatchQueue.global().async</code> ç›¸å½“äºä½¿ç”¨å…¨å±€é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚ç„¶ååœ¨è°ƒç”¨ <code>DispatchQueue.main.async</code> ä½¿ç”¨ä¸»çº¿ç¨‹æ›´æ–°ç›¸åº”çš„ UI å†…å®¹ã€‚</p>
<h2 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h2><p>æ–°çš„ GCD å¼•å…¥äº† QoS (Quality of Service) çš„æ¦‚å¿µã€‚</p>
<p>å…ˆçœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.global(qos: .userInitiated).async &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>QoS å¯¹åº”çš„å°±æ˜¯ <code>Global Queue</code> ä¸­çš„ä¼˜å…ˆçº§ã€‚ å…¶ä¼˜å…ˆçº§ç”±æœ€ä½çš„ <code>background</code> åˆ°æœ€é«˜çš„ <code>userInteractive</code> å…±äº”ä¸ªï¼Œè¿˜æœ‰ä¸€ä¸ªæœªå®šä¹‰çš„ <code>unspecified</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> background: <span class="type">DispatchQoS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> utility: <span class="type">DispatchQoS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> `<span class="keyword">default</span>`: <span class="type">DispatchQoS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> userInitiated: <span class="type">DispatchQoS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> userInteractive: <span class="type">DispatchQoS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> unspecified: <span class="type">DispatchQoS</span></span><br></pre></td></tr></table></figure>
<h2 id="è‡ªå®šä¹‰-Queue"><a href="#è‡ªå®šä¹‰-Queue" class="headerlink" title="è‡ªå®šä¹‰ Queue"></a>è‡ªå®šä¹‰ Queue</h2><p>é™¤äº†ç›´æ¥ä½¿ç”¨ <code>DispatchQueue.global().async</code> è¿™ç§å°è£…å¥½çš„ä»£ç å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>DispatchWorkItem</code> è‡ªå®šä¹‰é˜Ÿåˆ—çš„ä¼˜å…ˆçº§ï¼Œç‰¹æ€§ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> queue = <span class="type">DispatchQueue</span>(label: <span class="string">"swift_queue"</span>)</span><br><span class="line"><span class="keyword">let</span> dispatchworkItem = <span class="type">DispatchWorkItem</span>(qos: .userInitiated, flags: .inheritQoS) &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">queue.async(execute: dispatchworkItem)</span><br></pre></td></tr></table></figure>
<h2 id="GCDå®šæ—¶å™¨"><a href="#GCDå®šæ—¶å™¨" class="headerlink" title="GCDå®šæ—¶å™¨"></a>GCDå®šæ—¶å™¨</h2><p>Swift ä¸­ <code>dispatch_time</code>çš„ç”¨æ³•æ”¹æˆäº†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> delay = <span class="type">DispatchTime</span>.now() + .seconds(<span class="number">60</span>)</span><br><span class="line"><span class="type">DispatchQueue</span>.main.asyncAfter(deadline: delay) &#123; </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç›¸è¾ƒä¸OCæ¥è¯´æ›´æ˜“è¯»äº†ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let dispatch_time = dispatch_time(DISPATCH_TIME_NOW, Int64(<span class="number">60</span> * <span class="built_in">NSEC_PER_SEC</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>å‚è€ƒ <a href="https://www.swiftcafe.io/2016/10/16/swift-gcd/" target="_blank" rel="noopener">GCD åœ¨ Swift 3 ä¸­çš„ç©å„¿æ³•</a></li>
</ul>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/ç¼–ç¨‹/2017-09-11-Swift-4-æ–°ç‰¹æ€§/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ç¼–ç¨‹/2017-09-11-Swift-4-æ–°ç‰¹æ€§/" itemprop="url">Swift 4 æ–°ç‰¹æ€§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-09-11T00:00:00+08:00">
                2017-09-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç¼–ç¨‹/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/ç¼–ç¨‹/2017-09-11-Swift-4-æ–°ç‰¹æ€§/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="ç¼–ç¨‹/2017-09-11-Swift-4-æ–°ç‰¹æ€§/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  729
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="private-æƒé™æ‰©å¤§"><a href="#private-æƒé™æ‰©å¤§" class="headerlink" title="private æƒé™æ‰©å¤§"></a>private æƒé™æ‰©å¤§</h3><p>åœ¨ Swift 4 ä¸­ï¼Œ<code>extension</code> å¯ä»¥è¯»å– <code>private</code> å˜é‡äº†ã€‚</p>
<p>Swift 3 ä¸­ï¼Œå¦‚æœå°†ä¸»ä½“å‡½æ•°çš„å˜é‡å®šä¹‰ä¸º <code>private</code>ï¼Œåˆ™å…¶ <code>extension</code> æ— æ³•è¯»å–æ­¤å˜é‡ï¼Œå¿…é¡»å°†å…¶æ”¹ä¸º <code>filePrivate</code> æ‰å¯ä»¥ã€‚</p>
<h3 id="å•å‘åŒºé—´"><a href="#å•å‘åŒºé—´" class="headerlink" title="å•å‘åŒºé—´"></a>å•å‘åŒºé—´</h3><p>å•å‘åŒºé—´æ˜¯ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œä¸»è¦åˆ†ä¸¤ç§ï¼šç¡®å®šä¸Šé™å’Œç¡®å®šä¸‹é™çš„åŒºé—´ã€‚ç›´æ¥ç”¨å­—é¢é‡å®šä¹‰å¤§æ¦‚å¯ä»¥å†™æˆ <code>â€¦6</code>å’Œ <code>2â€¦</code></p>
<p>ä¾‹å¦‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> intArr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr1 = intArr[...<span class="number">3</span>] 	<span class="comment">// [0, 1, 2, 3]</span></span><br><span class="line"><span class="keyword">let</span> arr2 = intArr[<span class="number">3</span>...] 	<span class="comment">// [3, 4]</span></span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²æ”¹åŠ¨"><a href="#å­—ç¬¦ä¸²æ”¹åŠ¨" class="headerlink" title="å­—ç¬¦ä¸²æ”¹åŠ¨"></a>å­—ç¬¦ä¸²æ”¹åŠ¨</h3><h4 id="String-æ“ä½œç®€åŒ–äº†"><a href="#String-æ“ä½œç®€åŒ–äº†" class="headerlink" title="String æ“ä½œç®€åŒ–äº†"></a>String æ“ä½œç®€åŒ–äº†</h4><p><code>String</code> è®¸å¤šè¦é€šè¿‡ <code>.characters</code> è¿›è¡Œçš„æ“ä½œï¼Œå¯ä»¥ç›´æ¥ç”¨ String è¿›è¡Œæ“ä½œäº†ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting = <span class="string">"Hello, ğŸ˜œ!"</span></span><br><span class="line"><span class="comment">// No need to drill down to .characters</span></span><br><span class="line"><span class="keyword">let</span> n = greeting.<span class="built_in">count</span></span><br><span class="line"><span class="keyword">let</span> endOfSentence = greeting.index(of: <span class="string">"!"</span>)!</span><br></pre></td></tr></table></figure>
<h4 id="æ–°å¢-Substring-ç±»å‹"><a href="#æ–°å¢-Substring-ç±»å‹" class="headerlink" title="æ–°å¢ Substring ç±»å‹"></a>æ–°å¢ Substring ç±»å‹</h4><p>swift 4 ä¸ºå­—ç¬¦ä¸²ç‰‡æ®µæ–°å¢äº†ä¸€ä¸ªå« <code>Substring</code> çš„ç±»å‹ã€‚</p>
<p>å½“ä½ åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²çš„ç‰‡æ®µæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ª <code>Substring</code> å®ä¾‹ã€‚<code>Substring</code> ä¸ <code>String</code> ç”¨æ³•ç›¸åŒï¼Œ å› ä¸ºå­ä¸²å’ŒåŸå­—ç¬¦ä¸²å…±äº«å†…å­˜ï¼Œæ‰€ä»¥å¯¹å­ä¸²çš„æ“ä½œå¿«é€Ÿè€Œä¸”é«˜æ•ˆã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting = <span class="string">"Hi there! It's nice to meet you! ğŸ‘‹"</span></span><br><span class="line"><span class="keyword">let</span> endOfSentence = greeting.index(of: <span class="string">"!"</span>)! </span><br><span class="line"></span><br><span class="line"><span class="comment">// äº§ç”Ÿ Substring å®ä¾‹</span></span><br><span class="line"><span class="keyword">let</span> firstSentence = greeting[...endOfSentence]</span><br><span class="line"><span class="comment">// firstSentence == "Hi there!"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `Substring` ä¸ `String` ç”¨æ³•ç›¸åŒ</span></span><br><span class="line"><span class="keyword">let</span> shoutingSentence = firstSentence.uppercased()</span><br><span class="line"><span class="comment">// shoutingSentence == "HI THERE!"</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¦æ³¨æ„ä¸€ä¸ª <code>Substring</code> ä¿ç•™ä»å…¶ç”Ÿæˆçš„å®Œæ•´çš„ <code>String</code>å€¼ã€‚ å½“æ‚¨ä¼ é€’ä¸€ä¸ªçœ‹ä¼¼å¾ˆå°çš„ <code>Substring</code> æ—¶ï¼Œè¿™å¯èƒ½å¯¼è‡´æ„å¤–çš„é«˜å†…å­˜å¼€é”€ã€‚æ‰€ä»¥ä½¿ç”¨ <code>Substring</code>æ—¶ï¼Œæœ€å¥½è½¬åŒ–ä¸º <code>String</code>.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newString = <span class="type">String</span>(substring)</span><br></pre></td></tr></table></figure>
<h4 id="æ¢è¡Œå¯ä»¥ä¸ç”¨-näº†ï¼"><a href="#æ¢è¡Œå¯ä»¥ä¸ç”¨-näº†ï¼" class="headerlink" title="æ¢è¡Œå¯ä»¥ä¸ç”¨ \näº†ï¼"></a>æ¢è¡Œå¯ä»¥ä¸ç”¨ <code>\n</code>äº†ï¼</h4><p>Swift 3ï¼Œå­—ç¬¦ä¸²æ¢è¡Œè¦æ’å…¥ <code>\n</code>ã€‚<br>ä¾‹å¦‚ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fjdam0wvhhj305d0283yf.jpg" alt></p>
<p>åœ¨ Swift 4 å¯ä»¥è¿™æ ·æ“ä½œ:</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fjdas2yri4j303q0260sm.jpg" alt></p>
<p>ç”¨ä¸¤ä¸ª <code>â€œâ€â€œ</code> åŒ…è£¹èµ·æ¥çš„å­—ç¬¦ä¸²ä¼šè‡ªåŠ¨æ·»åŠ  <code>\n</code> æ¢è¡Œï¼Œæ›´åŠ ç›´è§‚äº†ã€‚æ³¨æ„ï¼šæ¢è¡Œä¸ç¼©è¿›å‚ç…§çš„æ˜¯ç¬¬äºŒä¸ª <code>â€œâ€â€œ</code> å·çš„ä½ç½®ã€‚</p>
<p>å—¯ï¼Œæˆ‘è§‰å¾—OKï¼</p>
<h4 id="æ”¯æŒ-Unicode-9"><a href="#æ”¯æŒ-Unicode-9" class="headerlink" title="æ”¯æŒ Unicode 9"></a>æ”¯æŒ Unicode 9</h4><p>Swift 4 æ”¯æŒ Unicode 9ï¼Œ<a href="https://oleb.net/blog/2016/12/emoji-4-0/" target="_blank" rel="noopener">ä¸ºç°ä»£è¡¨æƒ…ç¬¦å·ä¿®æ­£äº†ä¸€äº›é—®é¢˜</a>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> family1 = <span class="string">"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦"</span></span><br><span class="line"><span class="keyword">let</span> family2 = <span class="string">"ğŸ‘¨\u&#123;200D&#125;ğŸ‘©\u&#123;200D&#125;ğŸ‘§\u&#123;200D&#125;ğŸ‘¦"</span></span><br><span class="line">family1 == family2 <span class="comment">// â†’ true</span></span><br></pre></td></tr></table></figure>
<p>å±…ç„¶è¿˜æœ‰è¿™ç§æ“ä½œ~</p>
<h3 id="æ–°å¢-KeyPath-æ•°æ®ç±»å‹"><a href="#æ–°å¢-KeyPath-æ•°æ®ç±»å‹" class="headerlink" title="æ–°å¢ KeyPath æ•°æ®ç±»å‹"></a>æ–°å¢ KeyPath æ•°æ®ç±»å‹</h3><p>KeyPath æ˜¯ Swift 4 æ–°å¢åŠ çš„æ•°æ®ç±»å‹ã€‚</p>
<p>å®šä¹‰ä¸¤ä¸ªç»“æ„ä½“ <code>Person</code>ä¸<code>Book</code> </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> authors: [<span class="type">Person</span>]</span><br><span class="line">    <span class="keyword">var</span> primaryAuthor: <span class="type">Person</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> authors.first!</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> abelson = <span class="type">Person</span>(name: <span class="string">"Harold Abelson"</span>)</span><br><span class="line"><span class="keyword">let</span> sussman = <span class="type">Person</span>(name: <span class="string">"Gerald Jay Sussman"</span>)</span><br><span class="line"><span class="keyword">let</span> book = <span class="type">Book</span>(title: <span class="string">"Structure and Interpretation of Computer Programs"</span>, authors: [abelson, sussman])</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">book[keyPath: \<span class="type">Book</span>.title]</span><br><span class="line">book[keyPath: \<span class="type">Book</span>.primaryAuthor.name]</span><br><span class="line"><span class="comment">// ç›¸å½“ä¸</span></span><br><span class="line">book.title</span><br><span class="line">book.primaryAuthor.name</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ <code>\Book.title</code> ä¸ <code>\Book.primaryAuthor.name</code> å°±æ˜¯ KeyPath.</p>
<p>KeyPath å¯ä»¥ç”¨ <code>.appending</code> æ‹¼æ¥</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> authorKeyPath = \<span class="type">Book</span>.primaryAuthor</span><br><span class="line"><span class="keyword">let</span> nameKeyPath = authorKeyPath.appending(path: \.name)</span><br><span class="line"><span class="comment">// nameKeyPath = \Book.primaryAuthor.name</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–°å¢-swapAt-å‡½æ•°"><a href="#æ–°å¢-swapAt-å‡½æ•°" class="headerlink" title="æ–°å¢  swapAt() å‡½æ•°"></a>æ–°å¢  <code>swapAt()</code> å‡½æ•°</h3><p>Swift 4 å¼•å…¥äº†ä¸€ç§åœ¨é›†åˆä¸­äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„æ–°æ–¹æ³•: <code>swapAt()</code></p>
<p>Swift 3 äº¤æ¢é›†åˆä¸­çš„å…ƒç´ çš„ç”¨ <code>swap()</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="built_in">swap</span>(&amp;numbers[<span class="number">0</span>], &amp;numbers[<span class="number">1</span>])</span><br><span class="line"><span class="comment">// numbers = [2,1,3,4,5]</span></span><br></pre></td></tr></table></figure>
<p>Swift 4 ä¸­å¯ä»¥ç›´æ¥ç”¨ </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">numbers.swapAt(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"><span class="comment">// numbers = [2,1,3,4,5]</span></span><br></pre></td></tr></table></figure>
<h3 id="å…¶ä»–æ”¹åŠ¨"><a href="#å…¶ä»–æ”¹åŠ¨" class="headerlink" title="å…¶ä»–æ”¹åŠ¨"></a>å…¶ä»–æ”¹åŠ¨</h3><p>å…¶ä»–æ”¹åŠ¨å¦‚ï¼š<strong>æ–°çš„æ•´æ•°åè®®</strong>ã€<strong>æ³›å‹ä¸‹æ ‡</strong>ã€<strong>NSNumber bridging</strong>ç­‰</p>
<p>å¯ä»¥å‚è€ƒï¼š<a href="https://github.com/ole/whats-new-in-swift-4" target="_blank" rel="noopener">whats new in swift4</a></p>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/æŠ€æœ¯/2017-07-26-åˆ©ç”¨-Debug-Memory-Graph-æ£€æµ‹å†…æµ‹æ³„æ¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æŠ€æœ¯/2017-07-26-åˆ©ç”¨-Debug-Memory-Graph-æ£€æµ‹å†…æµ‹æ³„æ¼/" itemprop="url">åˆ©ç”¨ Debug Memory Graph æ£€æµ‹å†…æµ‹æ³„æ¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-07-26T00:00:00+08:00">
                2017-07-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æŠ€æœ¯/" itemprop="url" rel="index">
                    <span itemprop="name">æŠ€æœ¯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/æŠ€æœ¯/2017-07-26-åˆ©ç”¨-Debug-Memory-Graph-æ£€æµ‹å†…æµ‹æ³„æ¼/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="æŠ€æœ¯/2017-07-26-åˆ©ç”¨-Debug-Memory-Graph-æ£€æµ‹å†…æµ‹æ³„æ¼/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  509
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¹³å¸¸æˆ‘ä»¬éƒ½ä¼šç”¨ Instrument çš„ Leaks / Allocations æˆ–å…¶ä»–ä¸€äº›å¼€æºåº“è¿›è¡Œå†…å­˜æ³„éœ²çš„æ’æŸ¥ï¼Œä½†å®ƒä»¬éƒ½å­˜åœ¨å„ç§é—®é¢˜å’Œä¸ä¾¿ï¼Œ</p>
<p>åœ¨è¿™ä¸ª ARC æ—¶ä»£æ›´å¸¸è§çš„å†…å­˜æ³„éœ²æ˜¯å¾ªç¯å¼•ç”¨å¯¼è‡´çš„ Abandoned memoryï¼ŒLeaks å·¥å…·æŸ¥ä¸å‡ºè¿™ç±»å†…å­˜æ³„éœ²ï¼Œåº”ç”¨æœ‰é™ã€‚</p>
<p>ä»Šå¤©ä»‹ç»ä¸€ç§ç®€å•ç›´æ¥çš„æ£€æµ‹å†…æµ‹æ³„æ¼çš„æ–¹æ³•ï¼š<strong>Debug Memory Graph</strong></p>
<p>å°±æ˜¯è¿™è´§ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fhxct12udnj311x0s3grw.jpg" alt></p>
<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>æˆ‘æœ€è¿‘çš„é¡¹ç›®ä¸­ï¼Œé€€å‡ºç™»å½•åï¼ˆè·³è½¬åˆ°ç™»å½•é¡µï¼‰ï¼Œå‘ç°é¦–é¡µæ§åˆ¶å™¨æ²¡æœ‰è¢«é”€æ¯ï¼Œä¾æ—§èƒ½æ¥æ”¶é€šçŸ¥ã€‚</p>
<p>é€€å‡ºç™»å½•ä»£ç ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIStoryboard</span> *storyboard = [<span class="built_in">UIStoryboard</span> storyboardWithName:<span class="string">@"Login"</span> bundle:[<span class="built_in">NSBundle</span> mainBundle]];</span><br><span class="line">AppDelegate *appDelegate = (AppDelegate *)[<span class="built_in">UIApplication</span> sharedApplication].delegate;</span><br><span class="line">appDelegate.window.rootViewController = [storyboard instantiateViewControllerWithIdentifier:<span class="string">@"LoginVC"</span>];</span><br></pre></td></tr></table></figure>
<p>å¾ˆæ˜æ˜¾å‘ç”Ÿäº†å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…æµ‹æ³„æ¼ã€‚</p>
<p>æ¥ä¸‹æ¥å°±ä½¿ç”¨ <strong>Debug Memory Graph</strong> æ¥æŸ¥çœ‹å†…æµ‹æ³„æ¼äº†ã€‚</p>
<h3 id="è¿è¡Œç¨‹åº"><a href="#è¿è¡Œç¨‹åº" class="headerlink" title="è¿è¡Œç¨‹åº"></a>è¿è¡Œç¨‹åº</h3><p>é¦–å…ˆå¯åŠ¨ Xcode è¿è¡Œç¨‹åºã€‚</p>
<h3 id="Debug-Memory-Graph"><a href="#Debug-Memory-Graph" class="headerlink" title="Debug Memory Graph"></a>Debug Memory Graph</h3><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fhxend1a8aj315y0s3gw5.jpg" alt></p>
<p>ç‚¹å‡» Debug Memory Graph æŒ‰é’®åï¼Œå¯ä»¥çœ‹åˆ°çº¢æ¡†å†…çš„æ˜¯å½“å‰å†…å­˜ä¸­å­˜åœ¨çš„å¯¹è±¡ã€‚å…¶ä¸­ï¼Œç»¿è‰²çš„å°±æ˜¯è§†å›¾æ§åˆ¶å™¨ã€‚</p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬éšæ—¶éƒ½å¯ä»¥æŸ¥çœ‹å†…æµ‹ä¸­å­˜åœ¨çš„å¯¹è±¡ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å¯ä»¥é€šè¿‡è§‚å¯Ÿ Memory Graph æŸ¥çœ‹å†…æµ‹æ³„æ¼ã€‚</p>
<h3 id="è°ƒè¯•ä½ çš„App"><a href="#è°ƒè¯•ä½ çš„App" class="headerlink" title="è°ƒè¯•ä½ çš„App"></a>è°ƒè¯•ä½ çš„App</h3><p>ç»§ç»­è¿è¡Œä½ çš„ç¨‹åº</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fhxeuh1np5j30v90kvn03.jpg" alt></p>
<p>ç„¶åå¯¹Appè¿›è¡Œè°ƒè¯•ã€pushã€pop æ“ä½œï¼Œå†æ¬¡ç‚¹å‡» Debug Memory Graph æŒ‰é’®ã€‚é‚£äº›è¯¥é‡Šæ”¾è€Œä¾æ—§åœ¨å†…æµ‹ä¸­çš„ <code>æ§åˆ¶å™¨</code> æˆ– <code>å¯¹è±¡</code> å°±èƒ½ä¸€ä¸€æ‰¾å‡ºæ¥äº†ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œåªè¦è¿›å…¥å¯¹åº”çš„æ§åˆ¶å™¨æ‰¾åˆ°å†…æµ‹æ³„æ¼çš„ä»£ç å°±OKäº†ï¼Œä¸€èˆ¬æ˜¯Blocké‡Œå¼•ç”¨äº† <code>self</code>ï¼Œæ”¹ä¸º <code>weakSelf</code> å°±è§£å†³äº†ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#define WS(weakSelf) __weak __typeof(&amp;*self)weakSelf = self;</span></span><br><span class="line"></span><br><span class="line">WS(weakSelf)</span><br><span class="line">sView.btnBlock = ^(<span class="built_in">NSInteger</span> idx)&#123;</span><br><span class="line">    [weakSelf.tableView reloadSections:[<span class="built_in">NSIndexSet</span> indexSetWithIndex:idx] withRowAnimation:<span class="built_in">UITableViewRowAnimationAutomatic</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>å°±è¿™æ ·ï¼Œåˆ©ç”¨ Debug Memory Graphï¼Œå¯ä»¥ç®€å•å¿«é€Ÿçš„æ£€æµ‹å†…æµ‹æ³„æ¼ã€‚</p>
<p>ä¸€èˆ¬ç”±ä¸¤ä¸ªå¯¹è±¡å¾ªç¯å¼•ç”¨çš„å†…æµ‹æ³„æ¼æ˜¯æ¯”è¾ƒå¥½å‘ç°çš„ï¼Œå¦‚æœæ˜¯ç”±ä¸‰ä¸ªåŠå…¶ä¸‰ä¸ªä»¥ä¸Šçš„å¯¹è±¡å½¢æˆçš„å¤§çš„å¾ªç¯å¼•ç”¨ï¼Œå°±ä¼šæ¯”è¾ƒéš¾æ’æŸ¥äº†ã€‚</p>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/æŠ€æœ¯/2017-07-24-iTunes-Connect-æ„å»ºç‰ˆæœ¬ä¸æ˜¾ç¤º/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æŠ€æœ¯/2017-07-24-iTunes-Connect-æ„å»ºç‰ˆæœ¬ä¸æ˜¾ç¤º/" itemprop="url">iTunes Connect æ„å»ºç‰ˆæœ¬ä¸æ˜¾ç¤º</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-07-24T00:00:00+08:00">
                2017-07-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æŠ€æœ¯/" itemprop="url" rel="index">
                    <span itemprop="name">æŠ€æœ¯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/æŠ€æœ¯/2017-07-24-iTunes-Connect-æ„å»ºç‰ˆæœ¬ä¸æ˜¾ç¤º/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="æŠ€æœ¯/2017-07-24-iTunes-Connect-æ„å»ºç‰ˆæœ¬ä¸æ˜¾ç¤º/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  251
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»Šå¤©æ–°é¡¹ç›®ä¸Šæ¶ï¼Œåœ¨Xcodeæ‰“åŒ…ä¸Šä¼ åˆ°App Storeåï¼Œåœ¨iTunes Connectæ„å»ºç‰ˆæœ¬ä¸­å±…ç„¶æ‰¾ä¸åˆ°ä¸Šä¼ çš„Appâ€¦</p>
<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ä»iOS10å¼€å§‹,è‹¹æœæ›´åŠ æ³¨é‡å¯¹ç”¨äºéšç§çš„ä¿æŠ¤,App é‡Œè¾¹å¦‚æœéœ€è¦è®¿é—®ç”¨æˆ·éšç§,å¿…é¡»è¦åšæè¿°,æ‰€ä»¥è¦åœ¨ plist æ–‡ä»¶ä¸­æ·»åŠ æè¿°ã€‚</p>
<p>è€Œè¿™ä¸‰ä¸ªåŸºç¡€æè¿°æ˜¯å¿…é¡»æ·»åŠ çš„ï¼š</p>
<ul>
<li><p><strong>éº¦å…‹é£æƒé™</strong>ï¼š<code>Privacy - Microphone Usage Description</code> æ˜¯å¦å…è®¸æ­¤Appä½¿ç”¨ä½ çš„éº¦å…‹é£ï¼Ÿ</p>
</li>
<li><p><strong>ç›¸æœºæƒé™</strong>ï¼š<code>Privacy - Camera Usage Description</code> æ˜¯å¦å…è®¸æ­¤Appä½¿ç”¨ä½ çš„ç›¸æœºï¼Ÿ</p>
</li>
<li><p><strong>ç›¸å†Œæƒé™</strong>ï¼š<code>Privacy - Photo Library Usage Description</code> æ˜¯å¦å…è®¸æ­¤Appè®¿é—®ä½ çš„åª’ä½“èµ„æ–™åº“ï¼Ÿ</p>
</li>
</ul>
<p>å…¶ä»–çš„æƒé™å¯ä»¥æ ¹æ®è‡ªå·± APP çš„æƒ…å†µæ¥æ·»åŠ ã€‚</p>
<p>æ·»åŠ å®Œæƒé™ä¹‹åç„¶åç»§ç»­æäº¤ App å°±å¯ä»¥äº†ã€‚</p>
<p>è‹¥è¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œè¿”å› plist æ–‡ä»¶ä¸­ï¼Œåˆ é™¤ä¹‹å‰çš„æƒé™ï¼Œé‡æ–°æ·»åŠ ä¸€ä¸‹ï¼Œæœ‰å¯èƒ½ä½ å“ªä¸å°å¿ƒæ·»åŠ çš„æƒé™æœ«å°¾æœ‰ç©ºæ ¼ï¼Œæˆ–è€…å­—æ®µä¸å¯¹ã€‚</p>
<p>End</p>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/ç¼–ç¨‹/2017-07-19-Swiftçš„HMACå’ŒSHA1åŠ å¯†/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ç¼–ç¨‹/2017-07-19-Swiftçš„HMACå’ŒSHA1åŠ å¯†/" itemprop="url">Swiftçš„HMACå’ŒSHA1åŠ å¯†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-07-19T00:00:00+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç¼–ç¨‹/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/ç¼–ç¨‹/2017-07-19-Swiftçš„HMACå’ŒSHA1åŠ å¯†/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="ç¼–ç¨‹/2017-07-19-Swiftçš„HMACå’ŒSHA1åŠ å¯†/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  396
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>HMACæ˜¯å¯†é’¥ç›¸å…³çš„å“ˆå¸Œè¿ç®—æ¶ˆæ¯è®¤è¯ç ï¼ˆHash-based Message Authentication Codeï¼‰ã€‚ HMACè¿ç®—åˆ©ç”¨å“ˆå¸Œç®—æ³•ï¼Œä»¥ä¸€ä¸ªå¯†é’¥å’Œä¸€ä¸ªæ¶ˆæ¯ä¸ºè¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸ªæ¶ˆæ¯æ‘˜è¦ä½œä¸ºè¾“å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´HMACé€šè¿‡å°†å“ˆå¸Œç®—æ³•(SHA1, MD5)ä¸å¯†é’¥è¿›è¡Œè®¡ç®—ç”Ÿæˆæ‘˜è¦ã€‚</p>
</blockquote>
<h2 id="Objectice-C"><a href="#Objectice-C" class="headerlink" title="Objectice-C"></a>Objectice-C</h2><p>åœ¨ä¸Šä¸ª Objectice-C é¡¹ç›®ä¸­ï¼Œä½¿ç”¨çš„ HMAC å’Œ SHA1 è¿›è¡ŒåŠ å¯†ã€‚å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSString</span> *)hmacsha1:(<span class="built_in">NSString</span> *)text key:(<span class="built_in">NSString</span> *)secret &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSData</span> *secretData = [secret dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="built_in">NSData</span> *clearTextData = [text dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> result[<span class="number">20</span>];</span><br><span class="line">    <span class="comment">// SHA1åŠ å¯†</span></span><br><span class="line">    CCHmac(kCCHmacAlgSHA1, [secretData bytes], [secretData length], [clearTextData bytes], [clearTextData length], result);</span><br><span class="line">    <span class="keyword">char</span> base64Result[<span class="number">32</span>];</span><br><span class="line">    size_t theResultLength = <span class="number">32</span>;</span><br><span class="line">    <span class="comment">// è½¬ä¸ºBase64</span></span><br><span class="line">    Base64EncodeData(result, <span class="number">20</span>, base64Result, &amp;theResultLength,<span class="literal">YES</span>);</span><br><span class="line">    <span class="built_in">NSData</span> *theData = [<span class="built_in">NSData</span> dataWithBytes:base64Result length:theResultLength];</span><br><span class="line">    <span class="built_in">NSString</span> *base64EncodedResult = [[<span class="built_in">NSString</span> alloc] initWithData:theData encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="keyword">return</span> base64EncodedResult;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="swift"><a href="#swift" class="headerlink" title="swift"></a>swift</h2><p>æœ€è¿‘ç”¨ swift é‡æ„é¡¹ç›®,ç”¨ Swift <a href="https://stackoverflow.com/questions/26970807/implementing-hmac-and-sha1-encryption-in-swift?rq=1" target="_blank" rel="noopener">é‡å†™äº†</a> HMAC çš„ SHA1 åŠ å¯†æ–¹å¼ã€‚</p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨HMACå’ŒSHAåŠ å¯†</span></span><br><span class="line"><span class="keyword">let</span> hmacResult:<span class="type">String</span> = <span class="string">"myStringToHMAC"</span>.hmac(<span class="type">HMACAlgorithm</span>.<span class="type">SHA1</span>, key: <span class="string">"myKey"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ä½¿ç”¨ä¸‹é¢ä»£ç æ—¶ï¼Œéœ€è¦åœ¨ OC æ¡¥æ¥æ–‡ä»¶<code>xxx-Bridging-Header</code>ä¸­ <code>#import &lt;CommonCrypto/CommonHMAC.h&gt;</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hmac</span><span class="params">(algorithm: HMACAlgorithm, key: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> cKey = key.cStringUsingEncoding(<span class="type">NSUTF8StringEncoding</span>)</span><br><span class="line">        <span class="keyword">let</span> cData = <span class="keyword">self</span>.cStringUsingEncoding(<span class="type">NSUTF8StringEncoding</span>)</span><br><span class="line">        <span class="keyword">var</span> result = [<span class="type">CUnsignedChar</span>](<span class="built_in">count</span>: <span class="type">Int</span>(algorithm.digestLength()), repeatedValue: <span class="number">0</span>)</span><br><span class="line">        <span class="type">CCHmac</span>(algorithm.toCCHmacAlgorithm(), cKey!, strlen(cKey!), cData!, strlen(cData!), &amp;result)</span><br><span class="line">        <span class="keyword">var</span> hmacData:<span class="type">NSData</span> = <span class="type">NSData</span>(bytes: result, length: (<span class="type">Int</span>(algorithm.digestLength())))</span><br><span class="line">        <span class="keyword">var</span> hmacBase64 = hmacData.base64EncodedStringWithOptions(<span class="type">NSDataBase64EncodingOptions</span>.<span class="type">Encoding76CharacterLineLength</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(hmacBase64)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">HMACAlgorithm</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">MD5</span>, <span class="type">SHA1</span>, <span class="type">SHA224</span>, <span class="type">SHA256</span>, <span class="type">SHA384</span>, <span class="type">SHA512</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toCCHmacAlgorithm</span><span class="params">()</span></span> -&gt; <span class="type">CCHmacAlgorithm</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> result: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">MD5</span>:</span><br><span class="line">            result = kCCHmacAlgMD5</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA1</span>:</span><br><span class="line">            result = kCCHmacAlgSHA1</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA224</span>:</span><br><span class="line">            result = kCCHmacAlgSHA224</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA256</span>:</span><br><span class="line">            result = kCCHmacAlgSHA256</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA384</span>:</span><br><span class="line">            result = kCCHmacAlgSHA384</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA512</span>:</span><br><span class="line">            result = kCCHmacAlgSHA512</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">CCHmacAlgorithm</span>(result)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">digestLength</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> result: <span class="type">CInt</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">MD5</span>:</span><br><span class="line">            result = <span class="type">CC_MD5_DIGEST_LENGTH</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA1</span>:</span><br><span class="line">            result = <span class="type">CC_SHA1_DIGEST_LENGTH</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA224</span>:</span><br><span class="line">            result = <span class="type">CC_SHA224_DIGEST_LENGTH</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA256</span>:</span><br><span class="line">            result = <span class="type">CC_SHA256_DIGEST_LENGTH</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA384</span>:</span><br><span class="line">            result = <span class="type">CC_SHA384_DIGEST_LENGTH</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">SHA512</span>:</span><br><span class="line">            result = <span class="type">CC_SHA512_DIGEST_LENGTH</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Int</span>(result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹åŠŸèƒ½æ€§/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹åŠŸèƒ½æ€§/" itemprop="url">ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹åŠŸèƒ½æ€§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-07-10T00:00:00+08:00">
                2017-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ—¥å¸¸/" itemprop="url" rel="index">
                    <span itemprop="name">æ—¥å¸¸</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹åŠŸèƒ½æ€§/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹åŠŸèƒ½æ€§/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  2.5k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>ä½“èƒ½è®­ç»ƒæ˜¯ä¸€ç§å¼€æºçš„ç¨‹åºå®ƒæ‰€ä¾ä»—çš„å¹¶ä¸æ˜¯å›ºæœ‰çš„æ–¹æ³•æ‰‹æ®µï¼Œè€Œæ˜¯èƒ½å¤Ÿè´¯ç©¿å§‹ç»ˆçš„é€»è¾‘ï¼Œå®ƒæ˜¯ä¸€ç§æŒ‡å¯¼å®è·µçš„æ€ç»´æ–¹å¼ï¼Œæˆ‘ä»¬ç®¡å®ƒå«â€œä½“èƒ½æ€è·¯â€ã€‚</p>
<p>ä½“èƒ½æ€è·¯æœ‰ä¸¤ä¸ªæ–¹å‘ï¼Œä¸€ä¸ªæ˜¯åŸç‚¹ï¼Œä¸€ä¸ªæ˜¯è¿‡ç¨‹ã€‚æ‰€è°“åŸç‚¹æˆ‘ä»¬è®¤ä¸ºæ˜¯äººä½“çš„æœ¬è´¨å±æ€§ï¼Œæ¯”å¦‚ä¹‹å‰æˆ‘ä»¬åˆ†äº«çš„äº”å¤§è¿åŠ¨ç´ è´¨ä»¥åŠåŠ¨åŠ›é“¾ç†è®ºã€‚æ‰€è°“è¿‡ç¨‹æ˜¯æˆ‘ä»¬åˆ†æé—®é¢˜å®ç°ç›®çš„çš„æ€è€ƒæ–¹å‘ä»¥åŠé€»è¾‘ï¼Œå®ƒä¸»è¦ä½“ç°åœ¨æ¥ä¸‹æ¥è¦è·Ÿå¤§å®¶åˆ†äº«çš„åŠŸèƒ½æ€§åŸåˆ™å’Œé‡‘å­—å¡”ã€‚</p>
<p>ä»Šå¤©å…ˆæ¥è¯´åŠŸèƒ½æ€§åŸåˆ™ã€‚</p>
<h2 id="åŠŸèƒ½æ€§"><a href="#åŠŸèƒ½æ€§" class="headerlink" title="åŠŸèƒ½æ€§"></a>åŠŸèƒ½æ€§</h2><p>æˆ‘ä»¬æ‰€è¯´çš„åŠŸèƒ½æ€§æ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„æ€ç»´æ–¹å¼ï¼Œè€ŒåŠŸèƒ½æ€§è®­ç»ƒåˆ™å®šä¹‰äº†ä¸€ç§å¤šå…³èŠ‚å‚ä¸ï¼Œå¤šå¹³é¢è¿åŠ¨çš„å¤æ‚ç»ƒä¹ ã€‚åŠŸèƒ½æ€§è®­ç»ƒæ˜¯å…·ä½“çš„ï¼Œæ¯”è¾ƒå¥½ç†è§£ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œä¹Ÿä¸è¯„ä»·å…¶ä¼˜åŠ£ï¼Œå› ä¸ºåœ¨â€œåŠŸèƒ½æ€§â€çš„æ€ç»´æ–¹å¼ä¸‹ï¼Œåªå­˜åœ¨ç›®æ ‡ä¹‹ä¸‹çš„åˆé€‚ä¸å¦ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯åŠŸèƒ½æ€§ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åŠŸèƒ½æ€§ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åŠŸèƒ½æ€§ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åŠŸèƒ½æ€§ï¼Ÿ</h3><p>æˆ‘ä»¬æŠŠå®ƒå®šä¹‰ä¸ºç›®æ ‡å¯¼å‘ä¸‹çš„æ•ˆç‡ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ç§ç¨‹åº¦çš„ä½“ç°ã€‚å¦‚æœä¸€ä¸ªç»ƒä¹ ä¸ç›®æ ‡çš„ç›¸å…³æ€§å¼ºï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºå®ƒå…·å¤‡è¾ƒå¼ºçš„åŠŸèƒ½æ„ä¹‰ï¼›è€Œå¦‚æœä¸€ä¸ªç»ƒä¹ ä¸å®ƒçš„ç›®æ ‡èƒŒé“è€Œé©°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºå®ƒç¼ºä¹åŠŸèƒ½æ„ä¹‰ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºåç˜«æ‚£è€…æ¥è¯´ï¼Œä¸€ä¸ªæ‰‹æŒ‡çš„å±ˆä¼¸å°±å·²ç»å…·å¤‡éå¸¸å¼ºçš„åŠŸèƒ½æ„ä¹‰äº†ï¼Œè€Œå¯¹äºä¸€ä¸ªé©¬æ‹‰æ¾çˆ±å¥½è€…æ¥è¯´ï¼Œé™è¹²çš„ä»·å€¼å¯èƒ½å¹¶ä¸æ˜¯æƒ³è±¡ä¸­é‚£ä¹ˆé«˜ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ€è€ƒåŠŸèƒ½æ€§é—®é¢˜çš„æ—¶å€™æˆ‘ä¹ æƒ¯ä»ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢å…¥æ‰‹ï¼š<strong>è‚Œè‚‰çš„ç”Ÿç†é€‚åº”</strong> ã€<strong>åŠ¨ä½œæ¨¡å¼</strong> å’Œ <strong>ä¸“é¡¹éœ€æ±‚</strong>ã€‚</p>
<h4 id="1-è‚Œè‚‰çš„ç”Ÿç†é€‚åº”"><a href="#1-è‚Œè‚‰çš„ç”Ÿç†é€‚åº”" class="headerlink" title="1. è‚Œè‚‰çš„ç”Ÿç†é€‚åº”"></a>1. è‚Œè‚‰çš„ç”Ÿç†é€‚åº”</h4><p>å…¶å®ç»ƒè‚Œè‚‰è°éƒ½ä¼šï¼Œæ˜¯ä¸€ä¸ªç›¸å¯¹å¥½å…¥æ‰‹çš„æŠ€èƒ½ï¼Œä½†æ˜¯å½“ä½ ç»™è¿™ä¸ªè¡Œä¸ºèµ‹äºˆä½“èƒ½è®­ç»ƒä½¿å‘½çš„æ—¶å€™å°±éœ€è¦æ€è€ƒä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚è¯´ä½ ç°åœ¨ç»ƒä¹ æ‰€å‘å±•çš„ä¸œä¸œçœŸçš„æ˜¯ä½ å®é™…è¿åŠ¨ä¸­æ‰€éœ€è¦çš„ä¸œä¸œä¹ˆï¼Ÿ</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fhg24pm22dj30e709474v.jpg" alt></p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“è‚Œè‚‰çš„ç”Ÿç†æ”¶ç¼©æ¨¡å¼å¯ä»¥ç®€å•çš„åˆ†ä¸ºå‘å¿ƒæ”¶ç¼©ï¼Œç¦»å¿ƒæ”¶ç¼©å’Œé™åŠ›æ”¶ç¼©ã€‚ç°åœ¨çš„ç ”ç©¶è¡¨æ˜ï¼Œè¿™ä¸‰ç§æ”¶ç¼©æ¨¡å¼çš„ç»ƒä¹ æ‰€äº§ç”Ÿçš„é€‚åº”æ€§æé«˜å­˜åœ¨æ˜¾è‘—çš„ç‰¹å¼‚æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘å‘å¿ƒç»ƒä¹ æ‰€å‘å±•çš„èƒ½åŠ›åªåœ¨å‘å¿ƒè¿åŠ¨ä¸­è¡¨ç°æœ€å¥½ï¼Œåœ¨ç¦»å¿ƒå’Œé™åŠ›ä¸­éƒ½ä¸ä½³ã€‚åŒæ ·ï¼Œç¦»å¿ƒæ”¶ç¼©ä¹Ÿåªèƒ½è·å¾—æœ€å¥½çš„ç¦»å¿ƒèƒ½åŠ›æ”¶ç›Šã€‚è€Œé™åŠ›å°±æ›´å˜æ€ï¼Œå…¶è®­ç»ƒæœ€ä½³æ•ˆæœä»…ä»…ä½“ç°åœ¨æ‰€é”»ç‚¼çš„å…³èŠ‚è§’åº¦ä¸‹ï¼Œæ¢ä¸€ä¸ªè§’åº¦èƒ½å¤Ÿè¿ç§»çš„æ•ˆæœæœ‰å¯èƒ½éƒ½ä¸åˆ°ä¸€åŠå„¿ã€‚è¿™æ ·çœ‹æ¥ï¼Œä½ çš„è®­ç»ƒæ˜¯ä¸æ˜¯å¹¶æ²¡æœ‰è¾¾åˆ°ä½ æƒ³è¦çš„æ•ˆæœå‘¢ï¼Ÿ</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fhg251pmatj30go0b5q5d.jpg" alt></p>
<p>ä¸ºä»€ä¹ˆé™è¹²å¯¹äºè·‘æ­¥çˆ±å¥½è€…æ¥è¯´å¯èƒ½å¹¶æ²¡æœ‰é‚£ä¹ˆç†æƒ³ï¼Ÿå› ä¸ºè†å…³èŠ‚è‚¡å››å¤´è‚Œåœ¨è·‘æ­¥ä¸­ä»¥ç¦»å¿ƒç¼“å†²ä¸ºä¸»ï¼Œè€Œä¸”è§’åº¦åœ¨ä¼¸è†æœ«ç«¯çš„30Â°å·¦å³ï¼Œè€Œé™è¹²å´æ˜¯åœ¨å±ˆæ›²90Â°å·¦å³çš„è§’åº¦ä¸‹å‘†ç€ä¸åŠ¨â€¦â€¦ç€ä¸åŠ¨â€¦â€¦ä¸åŠ¨â€¦â€¦åŠ¨â€¦â€¦</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œéœ€è¦è€ƒè™‘çš„é—®é¢˜è¿˜å¾ˆå¤šï¼Œæ¯”å¦‚è¯´å‘åŠ›æ¨¡å¼ï¼Œæ˜¯åŠ é€Ÿï¼Ÿå‡é€Ÿï¼Ÿè¿˜æ˜¯åŒ€é€Ÿï¼Ÿå†æ¯”å¦‚å…³èŠ‚æ´»åŠ¨è§’åº¦ä¸Šå‘åŠ›ç‚¹çš„ä½ç½®ï¼Œæ˜¯ä¼¸å±•æœ«ç«¯å‘åŠ›ï¼Ÿå±ˆæ›²æé™å‘åŠ›ï¼Ÿè¿˜æ˜¯åœ¨å±ˆä¼¸è¿‡ç¨‹ä¸­çš„æŸä¸€ç‚¹å‘åŠ›ï¼Ÿé˜»åŠ›åŠ åœ¨å“ªé‡Œï¼Œå°±ä¼šåœ¨å“ªé‡Œäº§ç”Ÿæœ€å¥½çš„é€‚åº”ï¼Œé‚£ä¹ˆåŠŸèƒ½çš„æ„ä¹‰å°±ä½“ç°åœ¨è¿™é‡Œã€‚</p>
<h4 id="2-åŠ¨ä½œæ¨¡å¼"><a href="#2-åŠ¨ä½œæ¨¡å¼" class="headerlink" title="2. åŠ¨ä½œæ¨¡å¼"></a>2. åŠ¨ä½œæ¨¡å¼</h4><p>åŠ¨ä½œæ¨¡å¼æ˜¯åŠ¨ä½œç¨‹åºçš„ä½“ç°ï¼Œè€ŒåŸºç¡€åŠ¨ä½œæ¨¡å¼æ˜¯è¯¸å¤šå¤æ‚åŠ¨ä½œæ¨¡å¼å…±æ€§çš„æŠ½è±¡ä½“ç°ï¼Œå¹¶ä¸”åŸºç¡€åŠ¨ä½œæ¨¡å¼ä¸€å®šæ˜¯ç¬¦åˆè§£å‰–ç»“æ„å’Œç”Ÿç‰©åŠ›å­¦ç‰¹ç‚¹çš„ï¼Œè¯´ç™½äº†ä¹Ÿå°±æ˜¯æˆ‘ä»¬äººä½“è¢«è®¾è®¡æ¥åº”è¯¥å®Œæˆçš„åŠ¨ä½œã€‚</p>
<p>å¦‚æœè¯´å¤§å¤šæ•°è¿åŠ¨éƒ½å¯ä»¥è®¤ä¸ºæ˜¯åŸºç¡€åŠ¨ä½œæ¨¡å¼çš„å‡çº§ä¸æ’åˆ—ç»„åˆï¼ŒåŒæ—¶åŸºç¡€åŠ¨ä½œæ¨¡å¼æœ¬èº«åˆèƒ½è¡ç”Ÿå‡ºæ¥å¾ˆå¤šè®­ç»ƒåŠ¨ä½œï¼Œé‚£ä¹ˆé€‰æ‹©å’Œå®é™…è¿åŠ¨ç›¸å¯¹åº”çš„ç»ƒä¹ å°±æ˜¯å¦ä¸€ä¸ªåŠŸèƒ½æ€§çš„ä½“ç°äº†ã€‚</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fhg25l7ep2j30g609o0ue.jpg" alt></p>
<p>æ¯”å¦‚è¯´å‘å±•èµ·è·³èƒ½åŠ›ï¼Œå› ä¸ºè·³æ˜¯è¹²çš„å‡çº§ï¼Œæ‰€ä»¥æˆ‘ä¸€å®šé¦–é€‰æ·±è¹²ç»ƒä¹ ï¼›å†æ¯”å¦‚è¯´è·‘æ­¥ï¼Œå­˜åœ¨å¤§é‡çš„ä¸‹è‚¢æ‘†åŠ¨ä¸æ”¯æ’‘çš„äº¤æ›¿ï¼Œæ‘†åŠ¨å¯ä»¥è®¤ä¸ºæ˜¯ä¸‹è‚¢å¼€é“¾å±ˆé«‹ä¸è¹¬ä¼¸ï¼Œè€Œæ”¯æ’‘å¯ä»¥è®¤ä¸ºæ˜¯ä¸‹è‚¢å•è…¿è¹²çš„ä¸€ç¬é—´ï¼Œé‚£ä¹ˆæˆ‘ä¼šé€‰æ‹©ç®±å¼å•è…¿è¹²ï¼Œä¿åŠ åˆ©äºšè¹²ï¼Œæ‚¬å‚å±ˆé«‹ç­‰ç­‰ï¼›å†å†æ¯”å¦‚ï¼Œæ‹³å‡»æ˜¯åŸºäºâ€œæ—‹è½¬â€åŠ â€œä¸Šè‚¢æ¨â€åŠ â€œå•è…¿è¹²â€çš„åŠ¨ä½œæ¨¡å¼ï¼Œé‚£ä¹ˆæˆ‘å°±è¦ç»ƒä¹ å‰ªè¹²â€¦æ—‹è½¬â€¦å•è‡‚â€¦æ¨ä¸¾â€¦å—ï¼Ÿ</p>
<p>å…¶å®åŠ¨ä½œæ¨¡å¼çš„é€‰æ‹©è¦ç»“åˆåŠ¨åŠ›é“¾ä¸€èµ·å»æ€è€ƒï¼Œè¿™é‡Œé™¤äº†è¦æ€è€ƒå¼€é“¾è¿˜æ˜¯é—­é“¾ä¹‹å¤–ï¼Œè¿˜è¦è€ƒè™‘åŠ¨åŠ›é“¾çš„å®Œæ•´æ€§ä»¥åŠå‘åŠ›çš„é¡ºåºæˆ–è€…è¯´æ˜¯åŠ›å­¦ç»“æ„ã€‚è¯´åˆ°ä¸Šè‚¢æ¨çš„åŠ¨ä½œæ¨¡å¼ï¼Œæ°´å¹³æ¨çš„è¯æˆ‘ç›¸ä¿¡å¾ˆå¤šäººéƒ½ä¼šæƒ³åˆ°å§æ¨å’Œä¿¯å§æ’‘ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªåŠ¨ä½œçš„åŠŸèƒ½æ€§å¦‚ä½•è¯„ä»·å‘¢ï¼Ÿ</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fhg26a2ve0j30go0ce76n.jpg" alt></p>
<p><strong>å§æ¨</strong>ï¼Œä¸€ä¸ªæŒºå¥‡è‘©çš„åŠ¨ä½œï¼Œå¥‡è‘©åœ¨å“ªå‘¢ï¼Ÿæ¥ï¼Œå’±ä»¬æ•°æ•°å§æ¨çš„ä¸»åŠ¨å…³èŠ‚éƒ½æœ‰å“ªäº›ï¼šè‚©å…³èŠ‚ï¼Œè‚˜å…³èŠ‚ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸Šè‚¢é“¾åœ¨ä¸Šè‚¢æ¨åŠ¨ä½œæ¨¡å¼ä¸‹å‚ä¸çš„å…³èŠ‚éƒ½æœ‰å“ªäº›å‘¢ï¼Ÿè‚©å…³èŠ‚ï¼Œè‚˜å…³èŠ‚ï¼å°±è¿™äº›ä¹ˆï¼Ÿå†æƒ³æƒ³ï¼å…¶å®ä½ è¿˜ç–æ¼äº†ä¸€ä¸ªéå¸¸é‡è¦çš„å…³èŠ‚â€”â€”<strong>è‚©èƒ›èƒ¸å…³èŠ‚</strong>ï¼å‡ ä¹æ‰€æœ‰ä¸Šè‚¢çš„åŠ¨ä½œéƒ½ä»¥è‚©èƒ›èƒ¸å…³èŠ‚çš„è¿åŠ¨ä¸ºåŸºç¡€ï¼Œè€Œå§æ¨å´å¹¶æ²¡æœ‰ï¼Œç‰¹åˆ«æ˜¯æ ‡å‡†çš„å§æ¨~</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fhg26h6oejj30go09lwgj.jpg" alt></p>
<p><strong>ä¿¯å§æ’‘</strong>ï¼Œè™½ç„¶è‚©èƒ›èƒ¸ï¼Œè‚©å…³èŠ‚ï¼Œè‚˜å…³èŠ‚å…¨é¢å‚ä¸åˆ°è¿åŠ¨ä¸­å»ï¼Œä½†ä¸å·§çš„æ˜¯å®ƒæ˜¯ä¸€ä¸ªé—­é“¾è¿åŠ¨ï¼Œè€Œå®é™…è¿åŠ¨ä¸­æˆ‘ä»¬çš„ä¸Šè‚¢ä¼šä»¥å¼€é“¾ä¸ºä¸»ï¼å‘µå‘µ~</p>
<p>åˆ«ç€æ€¥ï¼Œè®¤çœŸä½ å°±è¾“äº†ï¼ä¸Šé¢ä¸¤æ®µå…¶å®æ˜¯ä¸ªä¼ªå‘½é¢˜ï¼Œæˆ‘è¿™ä¹ˆåšä¸»è¦æ˜¯æƒ³é€šè¿‡è¿™ä¸ªå¹³æ˜“è¿‘äººçš„ä¾‹å­æ¥å¸®åŠ©å¤§å®¶æŒæ¡çš„åˆ†æé—®é¢˜çš„æ€è·¯ï¼å¦‚æœä½ éœ€è¦å‘å±•ä¸Šè‚¢æœ€å¤§åŠ›é‡è¡¨ç°ï¼Œé‚£ä¹ˆæ˜¾ç„¶å§æ¨æ˜¯ä½ çš„é¦–é€‰ã€‚è€Œå¦‚æœä½ è¦ä¼˜åŒ–ä¸Šè‚¢çš„åŠ›å­¦ç»“æ„ï¼Œç‰¹åˆ«æ˜¯æ°´å¹³æ¨çš„å‘åŠ›é¡ºåºï¼Œé‚£ä¹ˆä¿¯å§æ’‘æ˜¯ä½ é¦–é€‰ã€‚å†å¦‚æœä½ è¦æé«˜ä¸Šè‚¢çš„å»¶å±•æ€§ä»¥åŠä¼´éšæ—‹è½¬çš„åŠ é€Ÿèƒ½åŠ›ï¼Œé‚£ä¹ˆå•è‡‚æ°´å¹³æ¨çš„ç»ƒä¹ ç»™ä½ çš„å¸®åŠ©æœ€å¤§ï¼</p>
<p>æ‰€ä»¥ï¼Œé€‰æ‹©ä»€ä¹ˆï¼Œçœ‹ç›®æ ‡å–½~</p>
<h4 id="3-ä¸“é¡¹éœ€æ±‚"><a href="#3-ä¸“é¡¹éœ€æ±‚" class="headerlink" title="3. ä¸“é¡¹éœ€æ±‚"></a>3. ä¸“é¡¹éœ€æ±‚</h4><p>å…¶å®è¿™ä¸ªéå¸¸å¥½ç†è§£ï¼Œä¹Ÿæ˜¯åŠŸèƒ½æ€§åŸåˆ™çš„æ ¹æœ¬ç›®çš„ï¼Œä½†æ˜¯ä¸ºäº†å’Œä¸Šé¢ä¸¤ä¸ªæ–¹å‘åŒºåˆ†å¼€ï¼Œè¿™é‡Œä¸»è¦é’ˆå¯¹çš„æ˜¯ä¸åŒçš„è¿åŠ¨ç´ è´¨éœ€æ±‚ã€‚</p>
<p>Qï¼šå¯¹ä¸€ä¸ªè‹±è¶…çš„åå«è¿›è¡Œé•¿è·ç¦»é«˜å¼ºåº¦çš„æ¸¸æ³³ç»ƒä¹ æ˜¯å¦å…·å¤‡åŠŸèƒ½æ€§æ„ä¹‰ï¼Ÿï¼</p>
<p>Aï¼šå…·å¤‡ï¼</p>
<p>Qï¼šä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>Aï¼šå› ä¸ºä»–å–œæ¬¢æ¸¸æ³³ï¼Œè¿™ä¸ªå¯ä»¥è®©ä»–å¿ƒæƒ…æ„‰æ‚¦ç„¶åæ›´å¥½çš„è®­ç»ƒå’Œæ¯”èµ›ï¼</p>
<p>å’³å’³ï¼å½“ç„¶ï¼Œè¿™æ ·çš„ç­”æ¡ˆæ˜¯åˆæƒ…åˆç†çš„ï¼ä½†æ˜¯æˆ‘ä»¬ä¸å¦¨æ¢ä¸€ä¸ªè§’åº¦å»åˆ†æã€‚</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fhg26rdi6vj30go0b4goo.jpg" alt></p>
<p>è‹±è¶…ï¼Œå‡ ä¹æ˜¯è¶³çƒè”èµ›ä¸­å¯¹æŠ—æœ€å¼ºçš„ï¼Œä»–ä»¬çš„åå«æ¯åœºæ¯”èµ›åŠ¨ä¸åŠ¨å°±è·‘ä¸ª8åƒ1ä¸‡çš„ï¼Œè€Œè¿™8åƒ1ä¸‡çœŸå¿ƒä¸æ˜¯æ…¢æ…¢æ‚ æ‚ é¢ å„¿ä¸‹æ¥çš„ï¼Œè€Œæ˜¯å„ç§åŠ é€Ÿå‡é€Ÿå˜å‘æ‹¼æŠ¢ï¼Œæ‰€ä»¥å…¶å¼ºåº¦éå¸¸ä¹‹å¤§ã€‚é‚£ä¹ˆè¿™å°±éœ€è¦å¾ˆå¥½çš„å¿ƒè‚ºç³»ç»ŸåŠŸèƒ½ï¼Œä¸€æ–¹é¢ä½“ç°åœ¨æœ‰æ°§ä¸æ— æ°§è€åŠ›ä¸Šï¼Œå¦ä¸€æ–¹é¢å‘¼å¸å™¨å®˜çš„æœºèƒ½ä¸Šã€‚æ¸¸æ³³ç»ƒä¹ ï¼Œä¸ä»…å¯ä»¥æé«˜æœ‰æ°§ä»¥åŠæ— æ°§è€åŠ›ï¼Œå…¶æ°´ç¯å¢ƒè¿˜å¯ä»¥ç»™èƒ¸æ‰©å¼ å¸¦æ¥é˜»åŠ›ï¼Œç›´æ¥é”»ç‚¼äº†å‘¼å¸è‚Œçš„æ”¶ç¼©èƒ½åŠ›ã€‚å¦å¤–ï¼Œæ°´ç¯å¢ƒçœŸçš„èƒ½å¤Ÿç»™äººä»¬å¸¦æ¥æ„‰æ‚¦çš„æ„Ÿè§‰ï¼Œç‰¹åˆ«æ˜¯æ°´æµæ°´å‹ç»™è‚Œè‚‰å’Œç­‹è†œçš„æŒ‰æ‘©æ•ˆæœï¼ŒçœŸçš„æ˜¯ä¸€ä¸¾ä¸¤å¾—çš„â€œåŠŸèƒ½æ€§â€è®­ç»ƒã€‚</p>
<p>è¿˜æœ‰ï¼Œä½ ä»¥ä¸ºç¯®çƒè¿åŠ¨å‘˜çš„æ‹³å‡»ç»ƒä¹ çœŸçš„åªæ˜¯ç»™æ¯ç‡¥ä¹å‘³çš„ä½“èƒ½è®­ç»ƒå¢åŠ ä¸€ç‚¹ä¹è¶£ä¹ˆï¼Ÿå¹¶ä¸æ˜¯ï¼</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fhg276m81pj31h50rgtbv.jpg" alt></p>
<p><strong>1. æ‹³å‡»å¯ä»¥åœ¨å‘ç”Ÿåœºå†…å†²çªçš„æ—¶å€™å¾ˆå¥½åœ°ä¿æŠ¤è‡ªå·±ï¼›</strong></p>
<p><strong>2. æ‹³å‡»è¿åŠ¨å¯ä»¥å¼ºåŒ–æ—‹è½¬åŠ¨ä½œæ¨¡å¼ä¸‹çš„é€Ÿåº¦ã€ç¨³å®šã€å’Œå‡†ç¡®æ€§ï¼›</strong></p>
<p><strong>3. æ‹³å‡»æ˜¯æ‰‹è„šé«˜åº¦åè°ƒçš„è¿åŠ¨ï¼Œå¯¹äºå‘å±•æ‰‹è„šæ­é…çš„åŠ¨ä½œçµæ•æœ‰ç¥å¥‡çš„æ•ˆæœã€‚</strong></p>
<p>è€Œè¿™äº›ä¸å°±æ˜¯ä¸€åç¯®çƒè¿åŠ¨å‘˜æ‰€éœ€è¦çš„ä¹ˆï¼Ÿï¼</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ‰€ä»¥ï¼ŒåŠŸèƒ½æ€§åŸåˆ™ï¼Œè§£å†³çš„æ˜¯â€œ<strong>ä¸ºä»€ä¹ˆç»ƒ</strong>ï¼ˆforï¼not whyï¼‰ä»¥åŠ <strong>ç»ƒä»€ä¹ˆ</strong>â€çš„é—®é¢˜ï¼</p>
<p>å¦‚æœæˆ‘ä»¬æ˜¯ç®€å•æ´»åŠ¨æ´»åŠ¨èº«ä½“é‚£å°±ç®—äº†ï¼Œä½†å¦‚æœæˆ‘ä»¬è¦è¿›è¡Œä¸€ä¸ªæœ‰é’ˆå¯¹æ€§çš„ä½“èƒ½è®­ç»ƒï¼Œé‚£ä¹ˆè¯·ç¢ç£¨ç¢ç£¨ä½ é€‰æ‹©çš„åŠ¨ä½œæ˜¯å¦åˆç†ï¼Œæ˜¯å¦èƒ½å¤Ÿæ»¡è¶³ä½ çš„ä¸“é¡¹éœ€æ±‚ï¼</p>
<p>æ‰€ä»¥ï¼Œæ‹›è´¢çŒ«å¼å¼¹åŠ›å¸¦æŠ—é˜»å¤–æ—‹çœŸçš„æ˜¯ç»ƒä¹ è‚©è¢–é¦–æ¨çš„åŠ¨ä½œä¹ˆï¼Ÿ</p>
<p>æ‰€ä»¥ï¼ŒèšŒå¼ç»ƒä¹ å’Œdirty dogçœŸçš„æ˜¯å‘å±•é«‹å¤–æ—‹å¤–å±•èƒ½åŠ›æœ€å¥½çš„ç»ƒä¹ ä¹ˆï¼Ÿ</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fhg28jvnhqj30dw099q3z.jpg" alt></p>
<p>æ‰€ä»¥ï¼Œä»°å§å·è…¹å‘å±•å‡ºæ¥çš„è…¹ç›´è‚Œæ˜¯å¥½çœ‹å‘¢ï¼Ÿè¿˜æ˜¯å¥½ç”¨å‘¢ï¼Ÿ</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬çœŸçš„è¦æ¥ä¸€æ¬¡å¤§æ¸…æ´—ï¼Œæ‘’å¼ƒæ‰æˆ‘ä»¬ä»¥å‰é‚£äº›ç»ƒä¹ ä¹ˆï¼Ÿ</p>
<p>å½“ç„¶ä¸è¦ï¼æ¯ä¸€ä¸ªåŠ¨ä½œéƒ½æœ‰å®ƒå­˜åœ¨çš„æ„ä¹‰ï¼Œéƒ½æœ‰å®ƒçš„ä»·å€¼æ‰€åœ¨ï¼æœ‰å¯èƒ½è¿™ä¸ªåŠ¨ä½œå’Œä½ è¦å‘å±•çš„èƒ½åŠ›ä¸ç›´æ¥ç›¸å…³ï¼Œä½†æ˜¯å®ƒå¯èƒ½æ˜¯ä½ è¿›è¡Œâ€œåŠŸèƒ½æ€§â€è®­ç»ƒçš„åŸºç¡€ï¼Œä½ ä¸å¾—ä¸å»åšå®ƒï¼</p>
<p>æ‰€ä»¥ï¼Œè®­ç»ƒçš„é€»è¾‘å¾ˆé‡è¦ï¼</p>
<blockquote>
<p>è½¬è‡ª<a href="https://zhuanlan.zhihu.com/p/20786373" target="_blank" rel="noopener">ã€Šä½“èƒ½è®­ç»ƒä¹‹åŠŸèƒ½æ€§ã€‹</a></p>
</blockquote>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.deepdark.com/æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹é‡‘å­—å¡”/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cao Yihao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_g.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cyh Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹é‡‘å­—å¡”/" itemprop="url">ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹é‡‘å­—å¡”</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-07-10T00:00:00+08:00">
                2017-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ—¥å¸¸/" itemprop="url" rel="index">
                    <span itemprop="name">æ—¥å¸¸</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹é‡‘å­—å¡”/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="æ—¥å¸¸/2017-07-10-ã€Œä½“èƒ½è®­ç»ƒç†è®ºã€ä¹‹é‡‘å­—å¡”/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  2.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>ä½“èƒ½ï¼Œäººä½“åŸºç¡€è¿åŠ¨èƒ½åŠ›çš„ç»Ÿç§°ï¼Œäººä½“çš„æœ¬è´¨å±æ€§ï¼Œå®ƒæ”¯æ’‘ç€æ—¥å¸¸ç”Ÿæ´»å·¥ä½œçš„éœ€è¦ï¼Œä¹Ÿæ”¯æ’‘ç€è¿åŠ¨æŠ€æˆ˜æœ¯çš„è¡¨ç°ã€‚ ä½“èƒ½æ€è·¯ï¼Œæ˜¯æŒ‡å¯¼æˆ‘ä»¬è®¾è®¡å®æ–½ä½“èƒ½è®­ç»ƒçš„æ€ç»´æ–¹å¼ï¼Œåˆ†æé€»è¾‘ã€‚å®ƒåŒ…æ‹¬å›å½’åŸç‚¹çš„ <strong>äº”å¤§è¿åŠ¨ç´ è´¨</strong> &amp; <a href="http://qiubaiying.top/2017/07/10/%E4%BD%93%E8%83%BD%E8%AE%AD%E7%BB%83%E7%90%86%E8%AE%BA-%E4%B9%8B%E5%8A%A8%E5%8A%9B%E9%93%BE/" target="_blank" rel="noopener"><strong>åŠ¨åŠ›é“¾ç†è®º</strong></a>ï¼Œä¹ŸåŒ…æ‹¬åœ¨è¿‡ç¨‹ä¸­å¼•é¢†æ–¹å‘çš„ <a href="http://qiubaiying.top/2017/07/10/%E4%BD%93%E8%83%BD%E8%AE%AD%E7%BB%83%E7%90%86%E8%AE%BA-%E4%B9%8B%E5%8A%9F%E8%83%BD%E6%80%A7/" target="_blank" rel="noopener"><strong>åŠŸèƒ½æ€§åŸåˆ™</strong></a> å’Œ <a href="http://qiubaiying.top/2017/07/10/%E4%BD%93%E8%83%BD%E8%AE%AD%E7%BB%83%E7%90%86%E8%AE%BA-%E4%B9%8B%E9%87%91%E5%AD%97%E5%A1%94/" target="_blank" rel="noopener"><strong>é‡‘å­—å¡”</strong></a> ã€‚</p>
<h2 id="é‡‘å­—å¡”"><a href="#é‡‘å­—å¡”" class="headerlink" title="é‡‘å­—å¡”"></a>é‡‘å­—å¡”</h2><p>ä½“èƒ½è®­ç»ƒæ˜¯ä¸€é—¨å®è·µç§‘å­¦ï¼Œå®è·µå…ˆäºç†è®ºï¼Œè€Œç†è®ºå°è¯å®è·µã€‚ä½“èƒ½è®­ç»ƒæœ‰å››å¤§åŸºç¡€å­¦ç§‘ï¼Œåˆ†åˆ«æ˜¯è¿åŠ¨è§£å‰–å­¦ã€è¿åŠ¨ç”Ÿç†å­¦ã€è¿åŠ¨ç”Ÿç‰©åŠ›å­¦å’Œè¿åŠ¨è®­ç»ƒå­¦ã€‚</p>
<p>äº”å¤§è¿åŠ¨ç´ è´¨å¯¹åº”ç”Ÿç†å­¦å’Œè¿åŠ¨è®­ç»ƒå­¦ï¼›åŠ¨åŠ›é“¾å¯¹åº”è§£å‰–å­¦å’Œè¿åŠ¨ç”Ÿç‰©åŠ›å­¦ï¼›åŠŸèƒ½æ€§å¯¹åº”ç€ç”Ÿç†å’Œç”Ÿç‰©åŠ›ã€‚è€Œé‡‘å­—å¡”åˆ™å¯¹åº”äº†å®ƒä»¬å…¨éƒ¨ï¼æˆ–è€…è¯´é‡‘å­—å¡”å…¶å®æ˜¯è¯¸å­¦ç§‘åœ¨ä½“èƒ½è®­ç»ƒä¸­çš„äº¤æ±‡ï¼Œå®ƒå›Šæ‹¬äº†æ‰€æœ‰ä¹‹å‰çš„ç†è®ºï¼Œå¹¶ä¸”èµ‹äºˆäº†æ›´æ·±å±‚çš„æ„ä¹‰ã€‚</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fhg20ydk8uj30go0brwh1.jpg" alt></p>
<p>é‡‘å­—å¡”ä»£è¡¨äº†äººä½“è¿åŠ¨èƒ½åŠ›å‘å±•çš„å®¢è§‚è§„å¾‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæµç¨‹çš„å¼•é¢†ï¼Œæ€ç»´çš„åˆ†çº§ï¼Œä»¥åŠè®­ç»ƒé˜¶æ®µçš„åˆ’åˆ†ã€‚</p>
<p>è¿™é‡ŒåŒ…æ‹¬ <strong>å…³èŠ‚åŠŸèƒ½+æ ¸å¿ƒæ§åˆ¶</strong>ã€<strong>åŸºç¡€åŠ¨ä½œæ¨¡å¼</strong>ã€<strong>åŸºç¡€åŠ›é‡</strong>ã€<strong>ç»¼åˆä½“èƒ½</strong>ã€<strong>ä¸“é¡¹è¿åŠ¨</strong>ã€‚ä»–ä»¬åœ¨é€»è¾‘ä¸Šäº’ä¸ºåŸºç¡€å’Œè¿›é˜¶ï¼Œå…³èŠ‚æ˜¯åŠ¨ä½œçš„åŸºç¡€ï¼ŒåŠ¨ä½œæ‰¿è½½åŠ›é‡ï¼ŒåŠ›é‡æ”¯æ’‘å„ä¸ªè¿åŠ¨ç´ è´¨ï¼Œè€Œä¸“é¡¹æ˜¯å„ä¸ªè¿åŠ¨ç´ è´¨åœ¨å…·ä½“è¿åŠ¨ä¸­çš„è¡¨ç°ã€‚</p>
<p>ä¹Ÿè®¸è¿™ä¹ˆè¯´å¯èƒ½ä¸èƒ½å¤Ÿè®©å¤§å®¶æœ‰æ¸…æ™°çš„è®¤è¯†ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘å°±æŠŠæ¯å±‚çš„å†…å®¹å’Œå®ƒä»¬ä¹‹é—´çš„é€»è¾‘å…³ç³»ç®€å•çš„è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚ 99%çš„è¿åŠ¨è€…éƒ½æ˜¯åŸºç¡€ä¸è¶³ï¼Œä¸Šå±‚è¿‡åº¦ã€‚æˆ‘ä»¬ä»åŸºç¡€å¼€å§‹ï¼Œä»ä¸‹å¾€ä¸Šè¯´èµ·ã€‚</p>
<h3 id="è¿åŠ¨åŸºç¡€ï¼ˆå…³èŠ‚åŠŸèƒ½-æ ¸å¿ƒæ§åˆ¶ï¼‰"><a href="#è¿åŠ¨åŸºç¡€ï¼ˆå…³èŠ‚åŠŸèƒ½-æ ¸å¿ƒæ§åˆ¶ï¼‰" class="headerlink" title="è¿åŠ¨åŸºç¡€ï¼ˆå…³èŠ‚åŠŸèƒ½ + æ ¸å¿ƒæ§åˆ¶ï¼‰"></a>è¿åŠ¨åŸºç¡€ï¼ˆå…³èŠ‚åŠŸèƒ½ + æ ¸å¿ƒæ§åˆ¶ï¼‰</h3><p>è¿åŠ¨åŸºç¡€ä¸»è¦å†…å®¹åŒ…æ‹¬ <strong>å…³èŠ‚åŠŸèƒ½</strong> å’Œ <strong>æ ¸å¿ƒæ§åˆ¶</strong> èƒ½åŠ›ã€‚</p>
<p>äººä½“çš„å…³èŠ‚åŠŸèƒ½æœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯çµæ´»æ€§ï¼Œä¸€ä¸ªæ˜¯ç¨³å®šæ€§ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¾ˆå¤šäººç”±äºé•¿æœŸç¼ºä¹é”»ç‚¼ï¼Œè‚©å…³èŠ‚çµæ´»æ€§ç¼ºå¤±ï¼Œç¬¬ä¸€æ¬¡å­¦ä¹ ç«–ç›´ä¸Šä¸¾æ—¶ï¼Œæ€ä¹ˆåŠªåŠ›éƒ½ä¸¾ä¸åˆ°å¤´é¡¶ï¼Œæ˜¾ç„¶åº”è¯¥å…ˆæ”¹å–„è‚©å…³èŠ‚çµæ´»æ€§ã€‚å†æ¯”å¦‚ï¼Œè†å…³èŠ‚çš„ç»“æ„å¯¼è‡´å®ƒåªèƒ½è¿›è¡Œå±ˆä¼¸çš„è¿åŠ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿è¯è¿åŠ¨è¿‡ç¨‹ä¸­ä¸å‡ºç°è†å†…æ‰£ï¼Œè†å¤–ç¿»çš„ç°è±¡ï¼Œä¹Ÿå°±æ˜¯è†å…³èŠ‚éœ€è¦å…·å¤‡çš„ç¨³å®šèƒ½åŠ›ã€‚åœ¨å¥èº«ä¹‹å‰æˆ‘ä»¬ï¼Œåº”è¯¥å…ˆè¯„ä¼°æˆ‘ä»¬çš„å…³èŠ‚åŠŸèƒ½ã€‚</p>
<p>è¿åŠ¨åŸºç¡€ä¸­çš„ç¬¬äºŒéƒ¨åˆ†å†…å®¹å°±æ˜¯æ ¸å¿ƒæ§åˆ¶èƒ½åŠ›ã€‚å¾ˆå¤šå¥èº«è€…å…¥é—¨è€…éƒ½ä¼šè§‰å¾—æ ¸å¿ƒæ˜¯è…¹è‚Œï¼Œè§‰å¾—ç»ƒæ ¸å¿ƒçš„ç›®çš„æ˜¯æ‹¥æœ‰ä¸€ä¸ªå¥½çœ‹çš„è…¹è‚Œã€‚å®é™…ä¸Šï¼Œè…¹è‚Œåªæ˜¯æ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ï¼Œæ ¸å¿ƒæ˜¯æŒ‡ä¸€ä¸ªåŒºåŸŸï¼Œæˆ‘ä»¬çš„æ•´ä¸ªèº¯å¹²éƒ½å±äºæ ¸å¿ƒåŒºåŸŸã€‚</p>
<p>è¿åŠ¨çš„å¤–åœ¨è¡¨ç°è™½æ¥æºäºå››è‚¢ï¼Œæ¯”å¦‚è·‘æ­¥æ—¶ä½ çš„å››è‚¢åœ¨è¿åŠ¨ï¼Œä½†æ˜¯ä¸€ä¸ªå‡ºè‰²çš„å¤–åœ¨è¿åŠ¨è¡¨ç°æ˜¯å»ºç«‹åœ¨ç¨³å®šçš„æ ¸å¿ƒåŸºç¡€ä¹‹ä¸Šçš„ã€‚å¦‚æœèº¯å¹²ä¸ç¨³å®šï¼Œåœ¨è·‘æ­¥çš„è¿‡ç¨‹ä¸­æ•´ä¸ªè„ŠæŸ±å¾ˆæ¾æ•£ï¼Œç”©æ¥ç”©å»ï¼Œè¿™æ ·æ˜¯å¾ˆéš¾æé«˜è·‘æ­¥é€Ÿåº¦çš„ã€‚æ‰€ä»¥åœ¨å­¦ä¹ åŠ¨ä½œä¹‹å‰ï¼Œåº”è¯¥å…ˆåŠ å¼ºæ ¸å¿ƒæ§åˆ¶èƒ½åŠ›ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬ä¼šæ¨èæ²¡æœ‰è¿›è¡Œè¿‡æŠ—é˜»è®­ç»ƒã€é•¿æœŸä¹…åçš„åŒå­¦å…ˆå»ç»ƒä¹ ä¸€æ®µæ—¶é—´çš„ç‘œä¼½å’Œæ™®æ‹‰æï¼Œç‘œä¼½å¯ä»¥å¾ˆå¥½åœ°æ”¹å–„å…³èŠ‚çµæ´»æ€§ï¼Œè¿›è€Œæé«˜èº«ä½“çš„æŸ”éŸ§æ€§ï¼›è€Œæ™®æ‹‰æèƒ½æé«˜çš„æ ¸å¿ƒæ§åˆ¶èƒ½åŠ›ï¼Œå¹¶æé«˜å…³èŠ‚ç¨³å®šæ€§ã€‚<br>ä¸€ä¸ªåˆæ ¼çš„å¥èº«è®­ç»ƒè€…ï¼Œåº”è¯¥äº†è§£ä¸åŒçš„è®­ç»ƒä½“ç³»ï¼Œä»–è¦çŸ¥é“è‡ªèº«è¿˜ç¼ºä¹ä»€ä¹ˆï¼Œç„¶åå‘ä¸åŒçš„è®­ç»ƒä½“ç³»å»å€Ÿé‰´ï¼Œä»¥æé«˜è‡ªå·±ã€‚</p>
<h3 id="åŸºç¡€åŠ¨ä½œæ¨¡å¼"><a href="#åŸºç¡€åŠ¨ä½œæ¨¡å¼" class="headerlink" title="åŸºç¡€åŠ¨ä½œæ¨¡å¼"></a>åŸºç¡€åŠ¨ä½œæ¨¡å¼</h3><h4 id="ä»€ä¹ˆæ˜¯åŸºç¡€åŠ¨ä½œæ¨¡å¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åŸºç¡€åŠ¨ä½œæ¨¡å¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åŸºç¡€åŠ¨ä½œæ¨¡å¼ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åŸºç¡€åŠ¨ä½œæ¨¡å¼ï¼Ÿ</h4><p>ç®€å•åœ°è¯´å°±æ˜¯ï¼Œæ‰€æœ‰åŠ¨ä½œè‚¢ä½“ç‰¹æœ‰çš„è¿åŠ¨ç¨‹åºã€‚äººä½“å°±è¿™ä¹ˆäº›é›¶ä»¶ï¼Œæ‰€ä»¥å¾ˆå¤šçš„åŠ¨ä½œä¹‹é—´éƒ½å­˜åœ¨ç€äº›è®¸çš„å…±æ€§ï¼Œæˆ‘ä»¬å°†è¿™äº›å…±æ€§æç‚¼å‡ºæ¥å¹¶è¿›è¡ŒåŠŸèƒ½ä¸Šçš„æŠ½è±¡ï¼Œé‚£ä¹ˆå°±å½¢æˆäº†æˆ‘ä»¬ç°åœ¨æ‰€è¦è¯´çš„åŸºç¡€åŠ¨ä½œæ¨¡å¼â€”â€”<strong>åŒè…¿è¹²</strong>ã€<strong>å•è…¿è¹²</strong>ã€<strong>æ¨</strong>ã€<strong>æ‹‰</strong>ã€<strong>æ—‹è½¬</strong>ã€<strong>å±ˆé«‹</strong>ã€‚</p>
<ul>
<li><strong>è¹²</strong>ï¼šåˆ†ä¸ºå•è…¿è¹²ã€åŒè…¿è¹²ã€‚å¯¹åº”çš„è®­ç»ƒåŠ¨ä½œæœ‰å‰ªè¹²å’Œæ·±è¹²ã€‚</li>
<li><strong>æ¨</strong>ï¼šåˆ†ä¸ºæ°´å¹³æ¨ã€ç«–ç›´æ¨ã€‚å¯¹åº”çš„è®­ç»ƒåŠ¨ä½œæ˜¯å§æ¨å’Œå®åŠ›ä¸¾ã€‚</li>
<li><strong>æ‹‰</strong>ï¼šåˆ†ä¸ºç«–ç›´æ‹‰ã€æ°´å¹³æ‹‰ã€‚ç«–ç›´æ‹‰åŒ…æ‹¬å¼•ä½“å‘ä¸Šã€é«˜ä½ä¸‹æ‹‰ï¼Œæ°´å¹³æ‹‰åŒ…æ‹¬å¼¹åŠ›å¸¦åˆ’èˆ¹ç­‰ç­‰ã€‚</li>
<li><strong>å±ˆé«‹</strong>ï¼šæœ€å…·ä»£è¡¨æ€§çš„åŠ¨ä½œå°±æ˜¯ç¡¬æ‹‰ã€‚</li>
<li><strong>æ—‹è½¬</strong>ï¼šåŠ¨ä½œæ¯”è¾ƒå¤æ‚ï¼Œåœ¨è®­ç»ƒå½“ä¸­æ¯”è¾ƒå°‘å‡ºç°ï¼Œé€‚åˆæ¯”è¾ƒèµ„æ·±çš„è®­ç»ƒè€…ï¼Œæ¯”å¦‚è¯´åŠˆå’Œç ï¼Œæ¯”å¦‚ä¸‹åŠˆçƒï¼Œæ¯”å¦‚æ‹¿é”¤å­ç ¸è½®èƒã€‚å‰æœŸä¸å»ºè®®åšï¼Œå½“ä½ æœ‰ä¸€å®šè®­ç»ƒæ°´å¹³çš„æ—¶å€™å†å»åšæ—‹è½¬ç±»åŠ¨ä½œã€‚</li>
</ul>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fhg20yeticj30go0ptdmg.jpg" alt></p>
<h4 id="åŸºç¡€åŠ¨ä½œæ¨¡å¼çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#åŸºç¡€åŠ¨ä½œæ¨¡å¼çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="åŸºç¡€åŠ¨ä½œæ¨¡å¼çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ"></a>åŸºç¡€åŠ¨ä½œæ¨¡å¼çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</h4><ol>
<li>æ•™ä¼šæˆ‘ä»¬å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨æˆ‘ä»¬çš„èº«ä½“</li>
<li>è¯„ä¼°ä½ çš„æ˜¯å¦å­˜åœ¨å…³èŠ‚åŠŸèƒ½ç¼ºé™·</li>
</ol>
<p>åŸºäºåŸºç¡€åŠ¨ä½œæ¨¡å¼çš„å­¦ä¹ æ„ä¹‰å’Œè¯Šæ–­æ„ä¹‰ï¼Œæˆ‘ä»¬å¯¹å¾…å¥èº«è€…æˆ–è€…éœ€è¦è¿›è¡Œä½“èƒ½è®­ç»ƒçš„äººå¾ˆå¤šæ—¶å€™éƒ½ä»è¿™é‡Œå¼€å§‹ã€‚å¦‚æœè¯Šæ–­ç»“æœè‰¯å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å­¦ä¹ åŠ¨ä½œä¹‹åå°±å¯ä»¥ä¸Šå‡åˆ°åŸºç¡€åŠ›é‡è®­ç»ƒï¼Œå¦‚æœè¯Šæ–­å‡ºå…³èŠ‚åŠŸèƒ½ç¼ºé™·ï¼Œæˆ‘ä»¬å°±è¦è¿›è¡Œé’ˆå¯¹æ€§çš„è§£å†³ã€‚</p>
<h3 id="åŸºç¡€åŠ›é‡ï¼ˆè‚Œè‚‰åŠ›é‡ï¼‰"><a href="#åŸºç¡€åŠ›é‡ï¼ˆè‚Œè‚‰åŠ›é‡ï¼‰" class="headerlink" title="åŸºç¡€åŠ›é‡ï¼ˆè‚Œè‚‰åŠ›é‡ï¼‰"></a>åŸºç¡€åŠ›é‡ï¼ˆè‚Œè‚‰åŠ›é‡ï¼‰</h3><p>åŠ›é‡æ˜¯æ‰€æœ‰è¿åŠ¨ç´ è´¨çš„åŸºç¡€ï¼Œå¦‚æœä½ æ²¡æœ‰è¶³å¤Ÿçš„åŠ›é‡ï¼Œå¾ˆå¤šäº‹æƒ…éƒ½å¾ˆéš¾å®Œæˆã€‚ä½ æƒ³å­¦ä¹ å€’ç«‹ï¼Œå¦‚æœä¸Šè‚¢åŠ›é‡è¶³å¤Ÿï¼Œåªéœ€è¦äº†è§£åŠ¨ä½œæŠ€å·§å’Œç»†èŠ‚ï¼Œå¯èƒ½åŠä¸ªå°æ—¶å°±èƒ½å­¦ä¼šå€’ç«‹ã€‚ä½†æ˜¯å¦‚æœåŠ›é‡æ°´å¹³å¾ˆä½ï¼Œå°±ç®—æŠŠå„ç§æŠ€å·§å’Œç»†èŠ‚éƒ½å­¦ä¼šäº†ï¼Œä¹Ÿæ²¡æœ‰åŠ›æ°”æŠŠè‡ªèº«æ’‘èµ·æ¥ï¼Œæ›´ä¸å¯èƒ½å®Œæˆå€’ç«‹ã€‚æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼ŒåŠ›é‡æ°´å¹³ä¸è¶³ç»å¸¸ä¼šæˆä¸ºæˆ‘ä»¬çªç ´è¿åŠ¨ç“¶é¢ˆçš„éšœç¢ï¼Œæœ‰è¶³å¤Ÿçš„åŠ›é‡æ‰èƒ½è·‘å¾—æ›´å¿«ã€è·‘å¾—æ›´è¿œã€è·³å¾—æ›´é«˜ã€‚æ‰€ä»¥ï¼ŒåŠ›é‡æ˜¯æ‰€æœ‰è¿åŠ¨ç´ è´¨çš„åŸºç¡€ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨é‡‘å­—å¡”çš„è¿™å±‚ï¼Œæˆ‘ä»¬å°±è¦ä»å¾’æ‰‹è®­ç»ƒçš„é˜¶æ®µè¿›é˜¶åˆ°è‡ªç”±åŠ›é‡è®­ç»ƒçš„é˜¶æ®µã€‚è´Ÿé‡å’Œå¾’æ‰‹çš„è®­ç»ƒæ•ˆæœå·®å¼‚éå¸¸å¤§ï¼Œå®ƒä¸ä»…ä»…åœ¨äºåŠ›é‡çš„æé«˜ï¼Œåœ¨é‡å¿ƒæ§åˆ¶ã€èº«ä½“å¹³è¡¡ã€åè°ƒæ€§æ§åˆ¶ç­‰æ–¹é¢çš„åŒºåˆ«ä¹Ÿå¾ˆå¤§ã€‚åŠ›é‡è®­ç»ƒèƒ½è®©èº«ä½“å„é¡¹èƒ½åŠ›åŒæ—¶æé«˜ï¼Œåªæœ‰çœŸæ­£è¿›å…¥åŠ›é‡è®­ç»ƒé˜¶æ®µï¼ˆå¯¹äºå¥èº«æ¥è¯´ï¼‰ï¼Œæ‰å¯ä»¥è¯´çœŸæ­£è¸ä¸Šå¥èº«å…¥é—¨ä¹‹è·¯ã€‚</p>
<h3 id="è®­ç»ƒç›®æ ‡ï¼ˆç»¼åˆä½“èƒ½å’Œä¸“é¡¹ä½“èƒ½ï¼‰"><a href="#è®­ç»ƒç›®æ ‡ï¼ˆç»¼åˆä½“èƒ½å’Œä¸“é¡¹ä½“èƒ½ï¼‰" class="headerlink" title="è®­ç»ƒç›®æ ‡ï¼ˆç»¼åˆä½“èƒ½å’Œä¸“é¡¹ä½“èƒ½ï¼‰"></a>è®­ç»ƒç›®æ ‡ï¼ˆç»¼åˆä½“èƒ½å’Œä¸“é¡¹ä½“èƒ½ï¼‰</h3><p>æœ€åï¼Œæˆ‘ä»¬æ¥åˆ°äº†é‡‘å­—å¡”çš„é¡¶ç«¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„æœ€ç»ˆè¿½æ±‚ã€‚</p>
<p>ç»¼åˆä½“èƒ½åœ¨æ­¤æŒ‡çš„æ˜¯ä½“èƒ½æ‰€åŒ…å«çš„äº”å¤§è¿åŠ¨ç´ è´¨â€”â€”åŠ›é‡ï¼Œé€Ÿåº¦ï¼Œçµæ•ï¼Œè€åŠ›ï¼ŒæŸ”éŸ§ã€‚å¯¹äºæœ‰ä¸“é¡¹è¿åŠ¨éœ€æ±‚çš„äººï¼Œæˆ‘ä»¬éœ€è¦æœ‰é’ˆå¯¹æ€§çš„é‡ç‚¹å‘å±•è¿™äº”å¤§è¿åŠŸç´ è´¨ä¸­çš„æŸå‡ ä¸ªã€‚</p>
<p>å½“æˆ‘ä»¬èº«ä½“å„å…³èŠ‚çµæ´»æ€§å’Œç¨³å®šæ€§éƒ½å¯ä»¥æ»¡è¶³è¦æ±‚ï¼Œä¸”æ ¸å¿ƒæ§åˆ¶èƒ½åŠ›ä¹Ÿå¾ˆå¼ºçš„æƒ…å†µä¸‹ï¼Œåˆåœ¨æ ‡å‡†åŠ¨ä½œçš„åŸºç¡€ä¸Šå‚¨å¤‡äº†è¶³å¤Ÿçš„è‚Œè‚‰åŠ›é‡ï¼Œé‚£ä¹ˆï¼Œä¸ç®¡ä½ çš„ç›®æ ‡æ˜¯å‡è‚¥ï¼Œå¢è‚Œï¼Œæˆ–è€…æ˜¯è¿›è¡ŒæŸä¸€ä¸ªç«æŠ€æ€§è¿åŠ¨é¡¹ç›®ï¼Œä½ éƒ½å¯ä»¥ç›¸å¯¹å®‰å…¨ä¸”è½»æ¾åœ°è¾¾æˆä½ çš„ç›®æ ‡ã€‚</p>
<p>ä¸€èˆ¬æˆ‘ä»¬æŠŠè¿˜å¤„åœ¨ç¬¬ä¸€ç¬¬äºŒå±‚çš„å¥èº«è€…ç§°ä¸ºå¥èº«å…¥é—¨è€…ã€‚ä¸ç®¡ä½ æ˜¯åˆšåˆšèµ°è¿›å¥èº«æˆ¿çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯å¥èº«å¤šå¹´çš„è€å¸æœºï¼Œéƒ½å¯ä»¥æ ¹æ®è¿™ä¸ªå¥èº«å‘å±•æµç¨‹æ¥å®¡è§†è‡ªå·±ç›®å‰çš„è®­ç»ƒå¤„åœ¨å“ªä¸€ä¸ªé˜¶æ®µã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä½“èƒ½è®­ç»ƒé‡‘å­—å¡”å‘Šè¯‰æˆ‘ä»¬ï¼Œä½“èƒ½è®­ç»ƒè¦ä»å…³èŠ‚åŠŸèƒ½å’Œæ ¸å¿ƒæ§åˆ¶å¼€å§‹è®­ç»ƒï¼Œé€šè¿‡å…­å¤§åŸºç¡€è¿åŠ¨æ¨¡å¼çš„è®­ç»ƒå¢å¼ºèº«ä½“åŸºç¡€åŠ›é‡ï¼Œåªæœ‰åŸºç¡€åŠ›é‡å¤Ÿäº†ï¼Œæˆ‘ä»¬æ‰èƒ½çœŸæ­£å¼€å§‹æˆ‘ä»¬çš„è®­ç»ƒç›®æ ‡ï¼Œæ ¹æ®æˆ‘ä»¬è®­ç»ƒçš„é¡¹ç›®å¢å¼ºä¸“é¡¹ä½“èƒ½ï¼Œæ¯”å¦‚æ‹³å‡»ï¼Œæˆ‘ä»¬è¦å¢å¼ºåŠ›é‡ï¼Œè€åŠ›ï¼Œçµæ•ã€‚</p>
<p>æ¸…æ¥šäº†è¿™ä¸ªä½“èƒ½è®­ç»ƒé‡‘å­—å¡”ä¹‹åï¼Œæ›´é‡è¦çš„äº‹è¿˜æ˜¯è¦å»æ‰§è¡Œã€‚æ‰§è¡Œå±‚é¢ä¼šæ¶‰åŠæ›´å¤šæŠ€æœ¯é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å¦‚ä½•åšæ ‡å‡†çš„åŠ¨ä½œï¼Œå¦‚ä½•åˆ¶å®šé€‚åˆè‡ªå·±çš„è®­ç»ƒè®¡åˆ’ç­‰ç­‰ã€‚</p>
<p>å¥èº«æ˜¯ä¸€é¡¹ç³»ç»Ÿæ€§å·¥ç¨‹ï¼Œæ„¿æ¯ä¸€ä¸ªäººéƒ½èƒ½æ‰¾åˆ°æ–¹æ³•ï¼Œç§‘å­¦æœ‰æ•ˆåœ°å¡‘é€ è‡ªå·±çš„èº«ä½“ã€‚</p>
<blockquote>
<p>å‚è€ƒ </p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/20801623" target="_blank" rel="noopener">ã€Šä½“èƒ½è®­ç»ƒä¹‹é‡‘å­—å¡”ã€‹</a></li>
<li><a href="http://www.jianshenjiaolian.com.cn/lingjichu-fazhan.html" target="_blank" rel="noopener">é›¶åŸºç¡€å¥èº«è€…çš„è¿åŠ¨å‘å±•æµç¨‹</a></li>
</ul>
</blockquote>

          
        
      
    </div>
    
    
    
<div>
      
</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar_g.jpg" alt="Cao Yihao">
            
              <p class="site-author-name" itemprop="name">Cao Yihao</p>
              <p class="site-description motion-element" itemprop="description">å…´è¶£ä½¿ç„¶çš„æ— åå°ç«™</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/deepdarkfans" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:cyh19981997@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/cyh1997" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                å‹æƒ…é“¾æ¥
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.baidu.com/" title="Baidu" target="_blank">Baidu</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.google.com/" title="Google" target="_blank">Google</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cao Yihao</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://blog-etellfvhpu.disqus.com/count.js" async></script>
    

    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

  

</body>
</html>
